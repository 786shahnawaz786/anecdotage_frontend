(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{366:function(e,t,r){"use strict";r.r(t);r(15),r(11),r(24),r(25);var o=r(1),n=r(6),l=(r(17),r(5),r(28)),c=r(10),f=r(9),d=(r(127),{props:{form:{type:Object,required:!0},field:{type:String,required:!0},value:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},rows:{type:Number,default:3},readonly:{type:Boolean,default:!1}},methods:{handleInput:function(e){this.$emit("input",e.target.value)}},mounted:function(){}}),m=r(3),v=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("textarea",{staticClass:"form-control form-control-lg font-14 fw-300",class:{"is-invalid":e.form.errors.has(e.field)},attrs:{rows:e.rows,readonly:e.readonly,id:e.id,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.handleInput}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:e.field}})],1)}),[],!1,null,null,null).exports;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={mixins:[r(568).a],components:{BaseButton:f.a,BaseInput:c.a,BaseTextarea:v},data:function(){return{form:this.$vform({name:"",date_of_birth:"",formatted_address:"",about:""}),delete_form:this.$vform({})}},head:function(){return{title:this.settings.site_title}},computed:_(_({},Object(l.c)({settings:"settings"})),{},{user:function(){return this.$auth.user}}),methods:{updateInfo:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.form.put("settings/profile",e.form);case 3:return t.sent,t.next=6,e.$auth.fetchUser();case 6:e.$toast.open({type:"success",position:"top-right",message:"Profile Update Successfully"}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},deleteInfo:function(){var e=this;this.$swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&e.delete()}))},delete:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.form.post("user/".concat(e.$auth.user.username,"/delete-info"));case 3:t.sent,e.$toast.open({type:"success",position:"top-right",message:"Your account delete successfully."}),setTimeout((function(){e.$router.push({name:"index"})}),2e3),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){var e=this;Object.keys(this.form).forEach((function(t){e.user.hasOwnProperty(t)&&(e.form[t]=e.user[t])}))}},w=Object(m.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updateInfo.apply(null,arguments)}}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[e._v("Full name")]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("BaseInput",{attrs:{form:e.form,field:"name",inputType:"text",id:"name",placeholder:"Enter Full Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"date_of_birth"}},[e._v("Date of Birth")]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("BaseInput",{attrs:{form:e.form,field:"date_of_birth",inputType:"date",id:"date_of_birth",placeholder:"Date of Birth"},model:{value:e.form.date_of_birth,callback:function(t){e.$set(e.form,"date_of_birth",t)},expression:"form.date_of_birth"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"formatted_address"}},[e._v("Address")]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("BaseInput",{attrs:{form:e.form,field:"formatted_address",inputType:"text",id:"formatted_address",placeholder:"Enter your address"},model:{value:e.form.formatted_address,callback:function(t){e.$set(e.form,"formatted_address",t)},expression:"form.formatted_address"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[e._v("About")]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("base-textarea",{attrs:{form:e.form,field:"about",id:"about"},model:{value:e.form.about,callback:function(t){e.$set(e.form,"about",t)},expression:"form.about"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-8 offset-sm-4"},[r("BaseButton",{attrs:{loading:e.form.busy}},[e._v(" Update ")])],1)])])]),e._v(" "),e.user.is_admin?e._e():r("div",{staticClass:"col-md-12"},[r("hr"),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[e._v("Delete My Account")]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.deleteInfo.apply(null,arguments)}}},[r("p",[e._v('This will delete your account and everything in it with the exception of any anecdotes you have posted. Your anecdotes can be deleted from their individual pages. Otherwise, they will be attributed to "Anonymous." ')]),e._v(" "),r("br"),e._v(" "),r("BaseButton",{attrs:{loading:e.delete_form.busy,type:"danger"}},[e._v("Delete My Account")])],1)])])])])}),[],!1,null,"72bd41ba",null);t.default=w.exports},568:function(e,t,r){"use strict";var o=r(2),n=r(587),l=r.n(n);t.a={created:function(){o.a.use(l.a)}}}}]);