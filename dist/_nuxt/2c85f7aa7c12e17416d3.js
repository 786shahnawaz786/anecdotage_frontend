(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{660:function(t,e,n){"use strict";var o=n(16),r=(n(21),n(37),n(798),n(799),n(27),n(78),n(79),n(376),n(9),n(801),n(100),n(20),n(54),n(55),n(15),n(38),n(375),"undefined"!=typeof window?function(){!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}();var t=function(e,n,o){var r,l,img=document.createElement("img");if(img.onerror=n,img.onload=function(){!l||o&&o.noRevoke||t.revokeObjectURL(l),n&&n(t.scale(img,o))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))r=l=t.createObjectURL(e),img._type=e.type;else{if("string"!=typeof e)return!1;r=e,o&&o.crossOrigin&&(img.crossOrigin=o.crossOrigin)}return r?(img.src=r,img):t.readFile(e,(function(t){var e=t.target;e&&e.result?img.src=e.result:n&&n(t)}))},e=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(img,t){var e,i,n,o,r=t.aspectRatio;if(!r)return t;for(i in e={},t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e.crop=!0,(n=img.naturalWidth||img.width)/(o=img.naturalHeight||img.height)>r?(e.maxWidth=o*r,e.maxHeight=o):(e.maxWidth=n,e.maxHeight=n/r),e},t.renderImageToCanvas=function(canvas,img,t,e,n,o,r,l,h,c){return canvas.getContext("2d").drawImage(img,t,e,n,o,r,l,h,c),canvas},t.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(img,e){e=e||{};var n,o,r,l,h,c,d,m,f,_,v,canvas=document.createElement("canvas"),y=img.getContext||t.hasCanvasOption(e)&&canvas.getContext,w=img.naturalWidth||img.width,x=img.naturalHeight||img.height,k=w,S=x;function C(){var t=Math.max((r||k)/k,(l||S)/S);t>1&&(k*=t,S*=t)}function E(){var t=Math.min((n||k)/k,(o||S)/S);t<1&&(k*=t,S*=t)}if(y&&(d=(e=t.getTransformedOptions(img,e)).left||0,m=e.top||0,e.sourceWidth?(h=e.sourceWidth,void 0!==e.right&&void 0===e.left&&(d=w-h-e.right)):h=w-d-(e.right||0),e.sourceHeight?(c=e.sourceHeight,void 0!==e.bottom&&void 0===e.top&&(m=x-c-e.bottom)):c=x-m-(e.bottom||0),k=h,S=c),n=e.maxWidth,o=e.maxHeight,r=e.minWidth,l=e.minHeight,y&&n&&o&&e.crop?(k=n,S=o,(v=h/c-n/o)<0?(c=o*h/n,void 0===e.top&&void 0===e.bottom&&(m=(x-c)/2)):v>0&&(h=n*c/o,void 0===e.left&&void 0===e.right&&(d=(w-h)/2))):((e.contain||e.cover)&&(r=n=n||r,l=o=o||l),e.cover?(E(),C()):(C(),E())),y){if((f=e.pixelRatio)>1&&(canvas.style.width=k+"px",canvas.style.height=S+"px",k*=f,S*=f,canvas.getContext("2d").scale(f,f)),(_=e.downsamplingRatio)>0&&_<1&&k<h&&S<c)for(;h*_>k;)canvas.width=h*_,canvas.height=c*_,t.renderImageToCanvas(canvas,img,d,m,h,c,0,0,canvas.width,canvas.height),h=canvas.width,c=canvas.height,(img=document.createElement("canvas")).width=h,img.height=c,t.renderImageToCanvas(img,canvas,0,0,h,c,0,0,h,c);return canvas.width=k,canvas.height=S,t.transformCoordinates(canvas,e),t.renderImageToCanvas(canvas,img,d,m,h,c,0,0,k,S)}return img.width=k,img.height=S,img},t.createObjectURL=function(t){return!!e&&e.createObjectURL(t)},t.revokeObjectURL=function(t){return!!e&&e.revokeObjectURL(t)},t.readFile=function(t,e,n){if(window.FileReader){var o=new FileReader;if(o.onload=o.onerror=e,o[n=n||"readAsDataURL"])return o[n](t),o}return!1};var n=t.hasCanvasOption,r=t.transformCoordinates,l=t.getTransformedOptions;t.hasCanvasOption=function(e){return!!e.orientation||n.call(t,e)},t.transformCoordinates=function(canvas,e){r.call(t,canvas,e);var n=canvas.getContext("2d"),o=canvas.width,l=canvas.height,h=canvas.style.width,c=canvas.style.height,d=e.orientation;if(d&&!(d>8))switch(d>4&&(canvas.width=l,canvas.height=o,canvas.style.width=c,canvas.style.height=h),d){case 2:n.translate(o,0),n.scale(-1,1);break;case 3:n.translate(o,l),n.rotate(Math.PI);break;case 4:n.translate(0,l),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-l);break;case 7:n.rotate(.5*Math.PI),n.translate(o,-l),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-o,0)}},t.getTransformedOptions=function(img,e){var n,i,o=l.call(t,img,e),r=o.orientation;if(!r||r>8||1===r)return o;for(i in n={},o)o.hasOwnProperty(i)&&(n[i]=o[i]);switch(o.orientation){case 2:n.left=o.right,n.right=o.left;break;case 3:n.left=o.right,n.top=o.bottom,n.right=o.left,n.bottom=o.top;break;case 4:n.top=o.bottom,n.bottom=o.top;break;case 5:n.left=o.top,n.top=o.left,n.right=o.bottom,n.bottom=o.right;break;case 6:n.left=o.top,n.top=o.right,n.right=o.bottom,n.bottom=o.left;break;case 7:n.left=o.bottom,n.top=o.right,n.right=o.top,n.bottom=o.left;break;case 8:n.left=o.bottom,n.top=o.left,n.right=o.top,n.bottom=o.right}return o.orientation>4&&(n.maxWidth=o.maxHeight,n.maxHeight=o.maxWidth,n.minWidth=o.minHeight,n.minHeight=o.minWidth,n.sourceWidth=o.sourceHeight,n.sourceHeight=o.sourceWidth),n};var h=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);t.blobSlice=h&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},t.metaDataParsers={jpeg:{65505:[]}},t.parseMetaData=function(e,n,o){var r=this,l=(o=o||{}).maxMetaDataSize||262144,data={};!!(window.DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&t.blobSlice)&&t.readFile(t.blobSlice.call(e,0,l),(function(e){if(e.target.error)n(data);else{var l,h,c,i,d=e.target.result,m=new DataView(d),f=2,_=m.byteLength-4,v=f;if(65496===m.getUint16(0)){for(;f<_&&((l=m.getUint16(f))>=65504&&l<=65519||65534===l)&&!(f+(h=m.getUint16(f+2)+2)>m.byteLength);){if(c=t.metaDataParsers.jpeg[l])for(i=0;i<c.length;i+=1)c[i].call(r,m,f,h,data,o);v=f+=h}!o.disableImageHead&&v>6&&(d.slice?data.imageHead=d.slice(0,v):data.imageHead=new Uint8Array(d).subarray(0,v))}n(data)}}),"readAsArrayBuffer")||n(data)},t.ExifMap=function(){return this},t.ExifMap.prototype.map={Orientation:274},t.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.getExifThumbnail=function(t,e,n){var o,i,b;if(n&&!(e+n>t.byteLength)){for(o=[],i=0;i<n;i+=1)b=t.getUint8(e+i),o.push((b<16?"0":"")+b.toString(16));return"data:image/jpeg,%"+o.join("%")}},t.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},t.exifTagTypes[7]=t.exifTagTypes[1],t.getExifValue=function(e,n,o,r,l,h){var c,d,m,i,f,_,v=t.exifTagTypes[r];if(v&&!((d=(c=v.size*l)>4?n+e.getUint32(o+8,h):o+8)+c>e.byteLength)){if(1===l)return v.getValue(e,d,h);for(m=[],i=0;i<l;i+=1)m[i]=v.getValue(e,d+i*v.size,h);if(v.ascii){for(f="",i=0;i<m.length&&"\0"!==(_=m[i]);i+=1)f+=_;return f}return m}},t.parseExifTag=function(e,n,o,r,data){var l=e.getUint16(o,r);data.exif[l]=t.getExifValue(e,n,o,e.getUint16(o+2,r),e.getUint32(o+4,r),r)},t.parseExifTags=function(t,e,n,o,data){var r,l,i;if(!(n+6>t.byteLength||(l=n+2+12*(r=t.getUint16(n,o)))+4>t.byteLength)){for(i=0;i<r;i+=1)this.parseExifTag(t,e,n+2+12*i,o,data);return t.getUint32(l,o)}},t.parseExifData=function(e,n,o,data,r){if(!r.disableExif){var l,h,c,d=n+10;if(1165519206===e.getUint32(n+4)&&!(d+8>e.byteLength)&&0===e.getUint16(n+8)){switch(e.getUint16(d)){case 18761:l=!0;break;case 19789:l=!1;break;default:return}42===e.getUint16(d+2,l)&&(h=e.getUint32(d+4,l),data.exif=new t.ExifMap,(h=t.parseExifTags(e,d,d+h,l,data))&&!r.disableExifThumbnail&&(c={exif:{}},h=t.parseExifTags(e,d,d+h,l,c),c.exif[513]&&(data.exif.Thumbnail=t.getExifThumbnail(e,d+c.exif[513],c.exif[514]))),data.exif[34665]&&!r.disableExifSub&&t.parseExifTags(e,d,d+data.exif[34665],l,data),data.exif[34853]&&!r.disableExifGps&&t.parseExifTags(e,d,d+data.exif[34853],l,data))}}},t.metaDataParsers.jpeg[65505].push(t.parseExifData);var c=function(){var t=[],e=[],n=[],o="transform",r=window.getComputedStyle(document.documentElement,"");"webkit"===(Array.prototype.slice.call(r).join("").match(/-(moz|webkit|ms)-/)||""===r.OLink&&["","o"])[1]&&(o="webkitTransform");var l=function(t,e,n){var o=t;if(void 0!==o.length){for(var r={chainers:[],then:function(t){return this.snabbt(t)},snabbt:function(t){var e=this.chainers.length;return this.chainers.forEach((function(n,o){n.snabbt(h(t,o,e))})),r},setValue:function(t){return this.chainers.forEach((function(e){e.setValue(t)})),r},finish:function(){return this.chainers.forEach((function(t){t.finish()})),r},rollback:function(){return this.chainers.forEach((function(t){t.rollback()})),r}},i=0,l=o.length;i<l;++i)"string"==typeof e?r.chainers.push(c(o[i],e,h(n,i,l))):r.chainers.push(c(o[i],h(e,i,l),n));return r}return"string"==typeof e?c(o,e,h(n,0,1)):c(o,h(e,0,1),n)},h=function(t,e,n){if(!t)return t;var o=G(t);V(t.delay)&&(o.delay=t.delay(e,n)),V(t.callback)&&(o.complete=function(){t.callback.call(this,e,n)});var r=V(t.allDone),l=V(t.complete);(l||r)&&(o.complete=function(){l&&t.complete.call(this,e,n),r&&e==n-1&&t.allDone()}),V(t.valueFeeder)&&(o.valueFeeder=function(i,o){return t.valueFeeder(i,o,e,n)}),V(t.easing)&&(o.easing=function(i){return t.easing(i,e,n)});return["position","rotation","skew","rotationPost","scale","width","height","opacity","fromPosition","fromRotation","fromSkew","fromRotationPost","fromScale","fromWidth","fromHeight","fromOpacity","transformOrigin","duration","delay"].forEach((function(r){V(t[r])&&(o[r]=t[r](e,n))})),o},c=function(element,t,n){if("attention"===t)return d(element,n);if("stop"===t)return m(element);if("detach"===t)return _(element);var o=t;w();var r=k(element),l=r;l=S(o,l,!0);var c=G(r);c=S(o,c);var f=C(l,c,o),v=M(f);e.push([element,v]),v.updateElement(element,!0);var y=[],x={snabbt:function(t){return y.unshift(h(t,0,1)),x},then:function(t){return this.snabbt(t)}};return z((function t(time){if(v.tick(time),v.updateElement(element),!v.isStopped())return v.completed()?void(o.loop>1&&!v.isStopped()?(o.loop-=1,v.restart(),z(t)):(o.complete&&o.complete.call(element),y.length&&(o=y.pop(),l=S(o,c,!0),c=S(o,G(c)),o=C(l,c,o),v=M(o),e.push([element,v]),v.tick(time),z(t)))):z(t)})),o.manual?v:x},d=function(element,t){var n=S(t,B({}));t.movement=n;var o=R(t);e.push([element,o]),z((function e(time){o.tick(time),o.updateElement(element),o.completed()?(t.callback&&t.callback(element),t.loop&&t.loop>1&&(t.loop--,o.restart(),z(e))):z(e)}))},m=function(element){for(var i=0,t=e.length;i<t;++i){var n=e[i],o=n[0],r=n[1];o===element&&r.stop()}},f=function(t,element){for(var i=0,e=t.length;i<e;++i)if(t[i][0]===element)return i;return-1},_=function(element){var t,i,o=[],r=e.concat(n),l=r.length;for(i=0;i<l;++i)t=r[i][0],(element.contains(t)||element===t)&&o.push(t);for(l=o.length,i=0;i<l;++i)v(o[i])},v=function(element){m(element);var t=f(e,element);t>=0&&e.splice(t,1),(t=f(n,element))>=0&&n.splice(t,1)},y=function(t,element){for(var i=0,e=t.length;i<e;++i){var n=t[i],o=n[0],r=n[1];if(o===element){var l=r.getCurrentState();return r.stop(),l}}},w=function(){n=n.filter((function(t){return x(t[0]).body}))},x=function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e},k=function(element){var t=y(e,element);return t||y(n,element)},S=function(t,e,n){e||(e=B({position:[0,0,0],rotation:[0,0,0],rotationPost:[0,0,0],scale:[1,1],skew:[0,0]}));var o="position",r="rotation",l="skew",h="rotationPost",c="scale",d="scalePost",m="width",f="height",_="opacity";return n&&(o="fromPosition",r="fromRotation",l="fromSkew",h="fromRotationPost",c="fromScale",d="fromScalePost",m="fromWidth",f="fromHeight",_="fromOpacity"),e.position=F(t[o],e.position),e.rotation=F(t[r],e.rotation),e.rotationPost=F(t[h],e.rotationPost),e.skew=F(t[l],e.skew),e.scale=F(t[c],e.scale),e.scalePost=F(t[d],e.scalePost),e.opacity=t[_],e.width=t[m],e.height=t[f],e},C=function(t,e,n){return n.startState=t,n.endState=e,n},E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},z=function(e){0===t.length&&E(P),t.push(e)},P=function(time){for(var o=t.length,i=0;i<o;++i)t[i](time);t.splice(0,o);var r=e.filter((function(t){return t[1].completed()}));n=n.filter((function(t){for(var i=0,e=r.length;i<e;++i)if(t[0]===r[i][0])return!1;return!0})),n=n.concat(r),e=e.filter((function(t){return!t[1].completed()})),0!==t.length&&E(P)},M=function(t){var e=t.startState,n=t.endState,o=F(t.duration,500),r=F(t.delay,0),l=t.perspective,h=T(F(t.easing,"linear"),t),c=0===o?n.clone():e.clone();t.transformOrigin;c.transformOrigin=t.transformOrigin;var d,m,f=0,_=0,v=!1,y=!1,w=t.manual,x=0,k=r/o;return m=t.valueFeeder?N(t.valueFeeder,e,n,c):U(e,n,c),{stop:function(){v=!0},isStopped:function(){return v},finish:function(t){w=!1,f=_-o*x,d=t,h.resetFrom=x},rollback:function(t){w=!1,m.setReverse(),f=_-o*(1-x),d=t,h.resetFrom=x},restart:function(){f=void 0,h.resetFrom(0)},tick:function(time){if(!v){if(w)return _=time,void this.updateCurrentTransform();if(f||(f=time),time-f>r){y=!0,_=time-r;var t=Math.min(Math.max(0,_-f),o);h.tick(t/o),this.updateCurrentTransform(),this.completed()&&d&&d()}}},getCurrentState:function(){return c},setValue:function(t){y=!0,x=Math.min(Math.max(t,1e-4),1+k)},updateCurrentTransform:function(){var t=h.getValue();if(w){var e=Math.max(1e-5,x-k);h.tick(e),t=h.getValue()}m.tween(t)},completed:function(){return!!v||0!==f&&h.completed()},updateElement:function(element,t){if(y||t){var e=m.asMatrix(),n=m.getProperties();W(element,e,l),j(element,n)}}}},R=function(t){var e=t.movement;t.initialVelocity=.1,t.equilibriumPosition=0;var n=L(t),o=!1,r=e.position,l=e.rotation,h=e.rotationPost,c=e.scale,d=e.skew,m=B({position:r?[0,0,0]:void 0,rotation:l?[0,0,0]:void 0,rotationPost:h?[0,0,0]:void 0,scale:c?[0,0]:void 0,skew:d?[0,0]:void 0});return{stop:function(){o=!0},isStopped:function(time){return o},tick:function(time){o||n.equilibrium||(n.tick(),this.updateMovement())},updateMovement:function(){var t=n.getValue();r&&(m.position[0]=e.position[0]*t,m.position[1]=e.position[1]*t,m.position[2]=e.position[2]*t),l&&(m.rotation[0]=e.rotation[0]*t,m.rotation[1]=e.rotation[1]*t,m.rotation[2]=e.rotation[2]*t),h&&(m.rotationPost[0]=e.rotationPost[0]*t,m.rotationPost[1]=e.rotationPost[1]*t,m.rotationPost[2]=e.rotationPost[2]*t),c&&(m.scale[0]=1+e.scale[0]*t,m.scale[1]=1+e.scale[1]*t),d&&(m.skew[0]=e.skew[0]*t,m.skew[1]=e.skew[1]*t)},updateElement:function(element){W(element,m.asMatrix()),j(element,m.getProperties())},getCurrentState:function(){return m},completed:function(){return n.equilibrium||o},restart:function(){n=L(t)}}},L=function(t){var e=F(t.startPosition,0),n=F(t.equilibriumPosition,1),o=F(t.initialVelocity,0),r=F(t.springConstant,.8),l=F(t.springDeceleration,.9),h=F(t.springMass,10),c=!1;return{tick:function(t){0!==t&&(c||(e+=o+=-(e-n)*r/h,o*=l,Math.abs(e-n)<.001&&Math.abs(o)<.001&&(c=!0)))},resetFrom:function(t){e=t,o=0},getValue:function(){return c?n:e},completed:function(){return c}}},I={linear:function(t){return t},ease:function(t){return(Math.cos(t*Math.PI+Math.PI)+1)/2},easeIn:function(t){return t*t},easeOut:function(t){return 1-Math.pow(t-1,2)}},T=function(t,e){if("spring"==t)return L(e);var n=t;V(t)||(n=I[t]);var o,r=n,l=0;return{tick:function(t){l=r(t),o=t},resetFrom:function(t){o=0},getValue:function(){return l},completed:function(){return o>=1&&o}}},A=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},O=function(a,b){b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]},D=function(){var data=new Float32Array(16),a=new Float32Array(16),b=new Float32Array(16);return A(data),{data:data,asCSS:function(){for(var t="matrix3d(",i=0;i<15;++i)Math.abs(data[i])<1e-4?t+="0,":t+=data[i].toFixed(10)+",";return Math.abs(data[15])<1e-4?t+="0)":t+=data[15].toFixed(10)+")",t},clear:function(){A(data)},translate:function(t,e,n){return O(data,a),function(t,e,n,o){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e,t[13]=n,t[14]=o,t[15]=1}(b,t,e,n),H(a,b,data),this},rotateX:function(t){var e,n;return O(data,a),n=t,(e=b)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=Math.cos(n),e[6]=-Math.sin(n),e[7]=0,e[8]=0,e[9]=Math.sin(n),e[10]=Math.cos(n),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,H(a,b,data),this},rotateY:function(t){var e,n;return O(data,a),n=t,(e=b)[0]=Math.cos(n),e[1]=0,e[2]=Math.sin(n),e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=-Math.sin(n),e[9]=0,e[10]=Math.cos(n),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,H(a,b,data),this},rotateZ:function(t){var e,n;return O(data,a),n=t,(e=b)[0]=Math.cos(n),e[1]=-Math.sin(n),e[2]=0,e[3]=0,e[4]=Math.sin(n),e[5]=Math.cos(n),e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,H(a,b,data),this},scale:function(t,e){return O(data,a),function(t,e,n){t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(b,t,e),H(a,b,data),this},skew:function(t,e){return O(data,a),function(t,e,n){t[0]=1,t[1]=Math.tan(e),t[2]=0,t[3]=0,t[4]=Math.tan(n),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(b,t,e),H(a,b,data),this}}},H=function(a,b,t){return t[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12],t[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13],t[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14],t[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15],t[4]=a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12],t[5]=a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13],t[6]=a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14],t[7]=a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15],t[8]=a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12],t[9]=a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13],t[10]=a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14],t[11]=a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15],t[12]=a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12],t[13]=a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13],t[14]=a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14],t[15]=a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15],t},B=function(t){var e=D(),n={opacity:void 0,width:void 0,height:void 0};return{position:t.position,rotation:t.rotation,rotationPost:t.rotationPost,skew:t.skew,scale:t.scale,scalePost:t.scalePost,opacity:t.opacity,width:t.width,height:t.height,clone:function(){return B({position:this.position?this.position.slice(0):void 0,rotation:this.rotation?this.rotation.slice(0):void 0,rotationPost:this.rotationPost?this.rotationPost.slice(0):void 0,skew:this.skew?this.skew.slice(0):void 0,scale:this.scale?this.scale.slice(0):void 0,scalePost:this.scalePost?this.scalePost.slice(0):void 0,height:this.height,width:this.width,opacity:this.opacity})},asMatrix:function(){var t=e;return t.clear(),this.transformOrigin&&t.translate(-this.transformOrigin[0],-this.transformOrigin[1],-this.transformOrigin[2]),this.scale&&t.scale(this.scale[0],this.scale[1]),this.skew&&t.skew(this.skew[0],this.skew[1]),this.rotation&&(t.rotateX(this.rotation[0]),t.rotateY(this.rotation[1]),t.rotateZ(this.rotation[2])),this.position&&t.translate(this.position[0],this.position[1],this.position[2]),this.rotationPost&&(t.rotateX(this.rotationPost[0]),t.rotateY(this.rotationPost[1]),t.rotateZ(this.rotationPost[2])),this.scalePost&&t.scale(this.scalePost[0],this.scalePost[1]),this.transformOrigin&&t.translate(this.transformOrigin[0],this.transformOrigin[1],this.transformOrigin[2]),t},getProperties:function(){return n.opacity=this.opacity,n.width=this.width+"px",n.height=this.height+"px",n}}},U=function(t,e,n){var o=t,r=e,l=n,h=void 0!==r.position,c=void 0!==r.rotation,d=void 0!==r.rotationPost,m=void 0!==r.scale,f=void 0!==r.skew,_=void 0!==r.width,v=void 0!==r.height,y=void 0!==r.opacity;return{tween:function(t){if(h){var e=r.position[0]-o.position[0],n=r.position[1]-o.position[1],w=r.position[2]-o.position[2];l.position[0]=o.position[0]+t*e,l.position[1]=o.position[1]+t*n,l.position[2]=o.position[2]+t*w}if(c){var x=r.rotation[0]-o.rotation[0],k=r.rotation[1]-o.rotation[1],S=r.rotation[2]-o.rotation[2];l.rotation[0]=o.rotation[0]+t*x,l.rotation[1]=o.rotation[1]+t*k,l.rotation[2]=o.rotation[2]+t*S}if(d){var C=r.rotationPost[0]-o.rotationPost[0],E=r.rotationPost[1]-o.rotationPost[1],z=r.rotationPost[2]-o.rotationPost[2];l.rotationPost[0]=o.rotationPost[0]+t*C,l.rotationPost[1]=o.rotationPost[1]+t*E,l.rotationPost[2]=o.rotationPost[2]+t*z}if(f){var P=r.scale[0]-o.scale[0],M=r.scale[1]-o.scale[1];l.scale[0]=o.scale[0]+t*P,l.scale[1]=o.scale[1]+t*M}if(m){var R=r.skew[0]-o.skew[0],L=r.skew[1]-o.skew[1];l.skew[0]=o.skew[0]+t*R,l.skew[1]=o.skew[1]+t*L}if(_){var I=r.width-o.width;l.width=o.width+t*I}if(v){var T=r.height-o.height;l.height=o.height+t*T}if(y){var A=r.opacity-o.opacity;l.opacity=o.opacity+t*A}},asMatrix:function(){return l.asMatrix()},getProperties:function(){return l.getProperties()},setReverse:function(){var t=o;o=r,r=t}}},N=function(t,e,n,o){var r=t(0,D()),l=e,h=n,c=o,d=!1;return{tween:function(e){d&&(e=1-e),r.clear(),r=t(e,r);var n=h.width-l.width,o=h.height-l.height,m=h.opacity-l.opacity;void 0!==h.width&&(c.width=l.width+e*n),void 0!==h.height&&(c.height=l.height+e*o),void 0!==h.opacity&&(c.opacity=l.opacity+e*m)},asMatrix:function(){return r},getProperties:function(){return c.getProperties()},setReverse:function(){d=!0}}},F=function(option,t){return void 0===option?t:option},W=function(element,t,e){var n="";e&&(n="perspective("+e+"px) ");var r=t.asCSS();element.style[o]=n+r},j=function(element,t){for(var e in t)element.style[e]=t[e]},V=function(object){return"function"==typeof object},G=function(object){if(!object)return object;var t={};for(var e in object)t[e]=object[e];return t};return l.createMatrix=D,l.setElementTransform=W,l}(),d=function(){var t=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}return function(canvas,o,r,l,h,c){if(!(isNaN(c)||c<1)){c|=0;var d=function(canvas,t,e,n,o){if("string"==typeof canvas)canvas=document.getElementById(canvas);else if(!canvas instanceof HTMLCanvasElement)return;var r,l=canvas.getContext("2d");try{try{r=l.getImageData(t,e,n,o)}catch(t){throw new Error("unable to access local image data: "+t)}}catch(t){throw new Error("unable to access image data: "+t)}return r}(canvas,o,r,l,h);d=function(o,r,l,h,c,d){var m,f,i,p,_,v,y,w,x,k,S,C,E,z,P,M,R,L,I,T,A,O,D,H,B=o.data,div=d+d+1,U=h-1,N=c-1,F=d+1,W=F*(F+1)/2,j=new n,V=j;for(i=1;i<div;i++)if(V=V.next=new n,i==F)var G=V;V.next=j;var J=null,Y=null;y=v=0;var X=t[d],Z=e[d];for(f=0;f<c;f++){for(M=R=L=I=w=x=k=S=0,C=F*(T=B[v]),E=F*(A=B[v+1]),z=F*(O=B[v+2]),P=F*(D=B[v+3]),w+=W*T,x+=W*A,k+=W*O,S+=W*D,V=j,i=0;i<F;i++)V.r=T,V.g=A,V.b=O,V.a=D,V=V.next;for(i=1;i<F;i++)p=v+((U<i?U:i)<<2),w+=(V.r=T=B[p])*(H=F-i),x+=(V.g=A=B[p+1])*H,k+=(V.b=O=B[p+2])*H,S+=(V.a=D=B[p+3])*H,M+=T,R+=A,L+=O,I+=D,V=V.next;for(J=j,Y=G,m=0;m<h;m++)B[v+3]=D=S*X>>Z,0!=D?(D=255/D,B[v]=(w*X>>Z)*D,B[v+1]=(x*X>>Z)*D,B[v+2]=(k*X>>Z)*D):B[v]=B[v+1]=B[v+2]=0,w-=C,x-=E,k-=z,S-=P,C-=J.r,E-=J.g,z-=J.b,P-=J.a,p=y+((p=m+d+1)<U?p:U)<<2,w+=M+=J.r=B[p],x+=R+=J.g=B[p+1],k+=L+=J.b=B[p+2],S+=I+=J.a=B[p+3],J=J.next,C+=T=Y.r,E+=A=Y.g,z+=O=Y.b,P+=D=Y.a,M-=T,R-=A,L-=O,I-=D,Y=Y.next,v+=4;y+=h}for(m=0;m<h;m++){for(R=L=I=M=x=k=S=w=0,C=F*(T=B[v=m<<2]),E=F*(A=B[v+1]),z=F*(O=B[v+2]),P=F*(D=B[v+3]),w+=W*T,x+=W*A,k+=W*O,S+=W*D,V=j,i=0;i<F;i++)V.r=T,V.g=A,V.b=O,V.a=D,V=V.next;for(_=h,i=1;i<=d;i++)v=_+m<<2,w+=(V.r=T=B[v])*(H=F-i),x+=(V.g=A=B[v+1])*H,k+=(V.b=O=B[v+2])*H,S+=(V.a=D=B[v+3])*H,M+=T,R+=A,L+=O,I+=D,V=V.next,i<N&&(_+=h);for(v=m,J=j,Y=G,f=0;f<c;f++)B[(p=v<<2)+3]=D=S*X>>Z,D>0?(D=255/D,B[p]=(w*X>>Z)*D,B[p+1]=(x*X>>Z)*D,B[p+2]=(k*X>>Z)*D):B[p]=B[p+1]=B[p+2]=0,w-=C,x-=E,k-=z,S-=P,C-=J.r,E-=J.g,z-=J.b,P-=J.a,p=m+((p=f+F)<N?p:N)*h<<2,w+=M+=J.r=B[p],x+=R+=J.g=B[p+1],k+=L+=J.b=B[p+2],S+=I+=J.a=B[p+3],J=J.next,C+=T=Y.r,E+=A=Y.g,z+=O=Y.b,P+=D=Y.a,M-=T,R-=A,L-=O,I-=D,Y=Y.next,v+=h}return o}(d,0,0,l,h,c),canvas.getContext("2d").putImageData(d,o,r)}}}();HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){for(var o=atob(this.toDataURL(e,n).split(",")[1]),r=o.length,l=new Uint8Array(r),i=0;i<r;i++)l[i]=o.charCodeAt(i);t(new Blob([l],{type:e||"image/png"}))}});var m=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f="function"==typeof Symbol&&"symbol"===Object(o.a)(Symbol.iterator)?function(t){return Object(o.a)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(o.a)(t)};function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=null,y=function(){return null===v&&(v=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),v},w=function(canvas){canvas.width=1,canvas.height=1,canvas.getContext("2d").fillRect(0,0,1,1)},x=function(t){return t.replace(/\-./g,(function(t){return t.charAt(1).toUpperCase()}))},k=function(t){for(var e=[],n=Array.prototype.slice.call(t.attributes),o=n.length,i=0;i<o;i++)e.push({name:n[i].name,value:n[i].value});return e},S=function(t){return{x:void 0===t.offsetX?t.layerX:t.offsetX,y:void 0===t.offsetY?t.layerY:t.offsetY}},C=function(base,t){var e,n={},o=t||{};for(e in base)base.hasOwnProperty(e)&&(n[e]=void 0===o[e]?base[e]:o[e]);return n},E=27,z=13,P=["touchstart","pointerdown","mousedown"],M=["touchmove","pointermove","mousemove"],R=["touchend","touchcancel","pointerup","mouseup"],L={jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"},I=/(\.png|\.bmp|\.gif|\.jpg|\.jpe|\.jpg|\.jpeg)$/,T=function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},A=function(t,e,n){e.forEach((function(e){t.addEventListener(e,n,!1)}))},O=function(t,e,n){e.forEach((function(e){t.removeEventListener(e,n,!1)}))},D=function(t){var e=function(t){var e=t.changedTouches?t.changedTouches[0]:t;if(e)return{x:e.pageX,y:e.pageY}}(t);return e.x-=window.pageXOffset||document.documentElement.scrollLeft,e.y-=window.pageYOffset||document.documentElement.scrollTop,e},H=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},B=function(t){return t[t.length-1]},U=function(t,e,n){return Math.max(e,Math.min(n,t))},N=function(t,e){if(!e)return!1;for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},F=function(element){element&&(element.style.webkitTransform="",element.style.transform="")},W=function(t){var e=void 0;for(e in L)if(L.hasOwnProperty(e)&&L[e]===t)return e;return t},j=function(path){return path.split("/").pop().split("?").shift()},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},G=function(t){return t.getFullYear()+"-"+V(t.getMonth()+1,"00")+"-"+V(t.getDate(),"00")+"_"+V(t.getHours(),"00")+"-"+V(t.getMinutes(),"00")+"-"+V(t.getSeconds(),"00")},J=function(t){return t.type||"image/jpeg"},Y=function(path){return"string"!=typeof path?G(new Date):j(path).split(".").shift()},X=function(t,e){var n=t.slice(0,t.size,t.type);return n.name=e,n.lastModified=Date.now(),n.lastModifiedDate=n.lastModified,n},Z=function(t){return/^data:image/.test(t)},Q=function(t,e,n,o){var r=new XMLHttpRequest;r.open("GET",t,!0),e(r),r.responseType="blob",r.onload=function(e){if(r.status>=200&&r.status<300||0===r.status&&this.response instanceof Blob){var l=j(t),h=function(t){var e=void 0;for(e in L)if(L.hasOwnProperty(e)&&-1!==t.indexOf(L[e]))return L[e];return null}(this.response.type);I.test(l)||(l+="."+W(h));var c=X(this.response,l);n(ht(c,h))}else o(r.status+": "+r.statusText)},r.onerror=function(){o()},r.send()},K=function(t){var e=t.split(",")[1].replace(/\s/g,"");return atob(e)},$=function(t,e){for(var n=K(t),o=new ArrayBuffer(n.length),r=new Uint8Array(o),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);var l=pt(t);return void 0===e&&(e=G(new Date)+"."+W(l)),X(tt(o,l),e)},tt=function(data,t){var e=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(e){var n=new e;return n.append(data),n.getBlob(t)}return new Blob([data],{type:t})},it=function(t,e,n){var o,r,l,h;return e/t<n?(o=.5*(t-(l=(h=e)/n)),r=0):(o=0,r=.5*(e-(h=(l=t)*n))),{x:o,y:r,height:h,width:l}};function et(canvas,t,e,n){if(!(t>=1)){for(var o=canvas.width,r=canvas.height,l=Math.max(n.width,Math.min(e.width,Math.round(canvas.width*t))),h=Math.max(n.height,Math.min(e.height,Math.round(canvas.height*t))),c=canvas;o>l&&r>h;){var d=document.createElement("canvas");(o=Math.round(.5*c.width))<l&&(o=l),(r=Math.round(.5*c.height))<h&&(r=h),d.width=o,d.height=r,d.getContext("2d").drawImage(c,0,0,o,r),w(c),c=d,d=null}canvas.width=l,canvas.height=h,canvas.getContext("2d").drawImage(c,0,0,l,h),c!==canvas&&w(c)}}var nt,ot,filter=function(canvas,t){canvas.getContext("2d").putImageData(t(function(canvas){return canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height)}(canvas),canvas.width,canvas.height),0,0)},at=function(t){return function(e,n,o){for(var r=[0,-1,0,-1,5,-1,0,-1,0],l=Math.round(Math.sqrt(r.length)),h=.5*l|0,c=function(t,e,n){var o=document.createElement("canvas");o.width=t,o.height=e;var data=o.getContext("2d").createImageData(o.width,o.height);return n&&data.set(n.data),data}(n,o),d=c.data,m=e.data,f=o,_=void 0;f--;)for(_=n;_--;){for(var v=f,y=_,w=4*(f*n+_),x=0,g=0,b=0,k=0;k<l;k++)for(var S=0;S<l;S++){var C=v+k-h,E=y+S-h;if(C>=0&&C<o&&E>=0&&E<n){var z=4*(C*n+E),P=r[k*l+S];x+=m[z]*P,g+=m[z+1]*P,b+=m[z+2]*P,m[z+3]*P}}d[w]=x*t+m[w]*(1-t),d[w+1]=g*t+m[w+1]*(1-t),d[w+2]=b*t+m[w+2]*(1-t),d[w+3]=m[w+3]}return c}},st=function(t,e){if(!t)return null;var n=document.createElement("canvas"),o=n.getContext("2d");return n.width=t.width,n.height=t.height,o.drawImage(t,0,0),e>0&&1!==e&&et(n,e,{width:Math.round(t.width*e),height:Math.round(t.height*e)},{width:0,height:0}),n},lt=function(t){return"object"===("undefined"==typeof value?"undefined":f(value))&&null!==value?JSON.parse(JSON.stringify(t)):t},ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;var n=t.slice(0,t.size,e||t.type);return n.name=t.name,n.lastModified=new Date(t.lastModified),n},ut=function(image,t,e){if(!image||!t)return null;var canvas=image;return"IMG"===image.nodeName&&((canvas=document.createElement("canvas")).width=image.width,canvas.height=image.height,canvas.getContext("2d").drawImage(image,0,0)),canvas.toDataURL(t,function(t){return"image/jpeg"===t}(t)&&"number"==typeof e?e/100:void 0)},pt=function(t){if(!t)return null;var e=t.substr(0,16).match(/^.+;/);return e.length?e[0].substring(5,e[0].length-1):null},ct=function(t){return Array.prototype.slice.call(t)},mt=function(t){t.parentNode.removeChild(t)},ft=function(t,e,n,o){var r=(o-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},gt=function(t,e,n,p){return function(t,e,n,o,r){var l=ft(t,e,n,r),h=ft(t,e,n,o),c=r-o<=180?"0":"1";return["M",l.x,l.y,"A",n,n,0,c,0,h.x,h.y].join(" ")}(t,e,n,0,360*p)},_t=(nt={n:function(rect,t,e,n){var o,r,b,l,h,p,c;return(b=rect.y+rect.height)-(o=U(t.y,0,b))<e.min.height&&(o=b-e.min.height),(h=n?(b-o)/n:rect.width)<e.min.width&&(o=b-(h=e.min.width)*n),p=.5*(h-rect.width),l=rect.x-p,r=rect.x+rect.width+p,(l<0||Math.round(r)>Math.round(e.width))&&(c=Math.min(rect.x,e.width-(rect.x+rect.width)),l=rect.x-c,o=b-(h=(r=rect.x+rect.width+c)-l)*n),{x:l,y:o,width:r-l,height:b-o}},s:function(rect,t,e,n){var o,r,b,l,h,p,c;return o=rect.y,(b=U(t.y,o,e.height))-o<e.min.height&&(b=o+e.min.height),(h=n?(b-o)/n:rect.width)<e.min.width&&(b=o+(h=e.min.width)*n),p=.5*(h-rect.width),l=rect.x-p,r=rect.x+rect.width+p,(l<0||Math.round(r)>Math.round(e.width))&&(c=Math.min(rect.x,e.width-(rect.x+rect.width)),l=rect.x-c,b=o+(h=(r=rect.x+rect.width+c)-l)*n),{x:l,y:o,width:r-l,height:b-o}},e:function(rect,t,e,n){var o,r,b,l,h,p,c;return l=rect.x,(r=U(t.x,l,e.width))-l<e.min.width&&(r=l+e.min.width),(h=n?(r-l)*n:rect.height)<e.min.height&&(r=l+(h=e.min.height)/n),p=.5*(h-rect.height),o=rect.y-p,b=rect.y+rect.height+p,(o<0||Math.round(b)>Math.round(e.height))&&(c=Math.min(rect.y,e.height-(rect.y+rect.height)),o=rect.y-c,r=l+(h=(b=rect.y+rect.height+c)-o)/n),{x:l,y:o,width:r-l,height:b-o}},w:function(rect,t,e,n){var o,r,b,l,h,c,p,d;return(r=rect.x+rect.width)-(l=U(t.x,0,r))<e.min.width&&(l=r-e.min.width),(c=n?(r-l)*n:rect.height)<e.min.height&&(l=r-(c=e.min.height)/n),p=.5*(c-rect.height),o=rect.y-p,b=rect.y+rect.height+p,(o<0||Math.round(b)>Math.round(e.height))&&(d=Math.min(rect.y,e.height-(rect.y+rect.height)),o=rect.y-d,h=(c=(b=rect.y+rect.height+d)-o)/n,l=r-h),{x:l,y:o,width:r-l,height:b-o}},ne:function(rect,t,e,n){var o,r,b,l,h,c;return l=rect.x,b=rect.y+rect.height,(r=U(t.x,l,e.width))-l<e.min.width&&(r=l+e.min.width),(h=n?(r-l)*n:U(b-t.y,e.min.height,b))<e.min.height&&(r=l+(h=e.min.height)/n),((o=rect.y-(h-rect.height))<0||Math.round(b)>Math.round(e.height))&&(c=Math.min(rect.y,e.height-(rect.y+rect.height)),r=l+(h=b-(o=rect.y-c))/n),{x:l,y:o,width:r-l,height:b-o}},se:function(rect,t,e,n){var o,r,b,l,h,c;return l=rect.x,o=rect.y,(r=U(t.x,l,e.width))-l<e.min.width&&(r=l+e.min.width),(h=n?(r-l)*n:U(t.y-rect.y,e.min.height,e.height-o))<e.min.height&&(r=l+(h=e.min.height)/n),b=rect.y+rect.height+(h-rect.height),(o<0||Math.round(b)>Math.round(e.height))&&(c=Math.min(rect.y,e.height-(rect.y+rect.height)),r=l+(h=(b=rect.y+rect.height+c)-o)/n),{x:l,y:o,width:r-l,height:b-o}},sw:function(rect,t,e,n){var o,r,b,l,h,c;return r=rect.x+rect.width,o=rect.y,r-(l=U(t.x,0,r))<e.min.width&&(l=r-e.min.width),(h=n?(r-l)*n:U(t.y-rect.y,e.min.height,e.height-o))<e.min.height&&(l=r-(h=e.min.height)/n),b=rect.y+rect.height+(h-rect.height),(o<0||Math.round(b)>Math.round(e.height))&&(c=Math.min(rect.y,e.height-(rect.y+rect.height)),l=r-(h=(b=rect.y+rect.height+c)-o)/n),{x:l,y:o,width:r-l,height:b-o}},nw:function(rect,t,e,n){var o,r,b,l,h,c;return r=rect.x+rect.width,b=rect.y+rect.height,r-(l=U(t.x,0,r))<e.min.width&&(l=r-e.min.width),(h=n?(r-l)*n:U(b-t.y,e.min.height,b))<e.min.height&&(l=r-(h=e.min.height)/n),((o=rect.y-(h-rect.height))<0||Math.round(b)>Math.round(e.height))&&(c=Math.min(rect.y,e.height-(rect.y+rect.height)),l=r-(h=b-(o=rect.y-c))/n),{x:l,y:o,width:r-l,height:b-o}}},function(){function t(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");_(this,t),this._element=element,this._interaction=null,this._minWidth=1,this._minHeight=1,this._ratio=null,this._rect={x:0,y:0,width:0,height:0},this._space={width:0,height:0},this._rectChanged=!1,this._init()}return m(t,[{key:"_init",value:function(){this._element.className="slim-crop-area";var t=T("div","grid");for(var e in this._element.appendChild(t),nt)if(nt.hasOwnProperty(e)){var n=T("button",e);this._element.appendChild(n)}var o=T("button","c");this._element.appendChild(o),A(document,P,this)}},{key:"reset",value:function(){this._interaction=null,this._rect={x:0,y:0,width:0,height:0},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"rescale",value:function(t){1!==t&&(this._interaction=null,this._rectChanged=!0,this._rect.x*=t,this._rect.y*=t,this._rect.width*=t,this._rect.height*=t,this._redraw(),this._element.dispatchEvent(new CustomEvent("change")))}},{key:"limit",value:function(t,e){this._space.width=t,this._space.height=e}},{key:"offset",value:function(t,e){this._space.x=t,this._space.y=e}},{key:"resize",value:function(t,e,n,o){this._interaction=null,this._rect={x:U(t,0,this._space.width-this._minWidth),y:U(e,0,this._space.height-this._minHeight),width:U(n,this._minWidth,this._space.width),height:U(o,this._minHeight,this._space.height)},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"handleEvent",value:function(t){switch(t.type){case"touchstart":case"pointerdown":case"mousedown":this._onStartDrag(t);break;case"touchmove":case"pointermove":case"mousemove":this._onDrag(t);break;case"touchend":case"touchcancel":case"pointerup":case"mouseup":this._onStopDrag(t)}}},{key:"_onStartDrag",value:function(t){this._element.contains(t.target)&&(t.preventDefault(),A(document,M,this),A(document,R,this),this._interaction={type:t.target.className,offset:D(t)},this._interaction.offset.x-=this._rect.x,this._interaction.offset.y-=this._rect.y,this._element.setAttribute("data-dragging","true"),this._redraw())}},{key:"_onDrag",value:function(t){t.preventDefault();var e=D(t),n=this._interaction.type;"c"===n?(this._rect.x=U(e.x-this._interaction.offset.x,0,this._space.width-this._rect.width),this._rect.y=U(e.y-this._interaction.offset.y,0,this._space.height-this._rect.height)):nt[n]&&(this._rect=nt[n](this._rect,{x:e.x-this._space.x,y:e.y-this._space.y},{x:0,y:0,width:this._space.width,height:this._space.height,min:{width:this._minWidth,height:this._minHeight}},this._ratio)),this._rectChanged=!0,this._element.dispatchEvent(new CustomEvent("input"))}},{key:"_onStopDrag",value:function(t){t.preventDefault(),O(document,M,this),O(document,R,this),this._interaction=null,this._element.setAttribute("data-dragging","false"),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"_redraw",value:function(){var t=this;if(this._rectChanged){var e="translate("+this._rect.x+"px,"+this._rect.y+"px);";this._element.style.cssText="\n\t\t\t\t\t-webkit-transform: "+e+";\n\t\t\t\t\ttransform: "+e+";\n\t\t\t\t\twidth:"+this._rect.width+"px;\n\t\t\t\t\theight:"+this._rect.height+"px;\n\t\t\t\t",this._rectChanged=!1}this._interaction&&requestAnimationFrame((function(){return t._redraw()}))}},{key:"destroy",value:function(){this._interaction=!1,this._rectChanged=!1,O(document,P,this),O(document,M,this),O(document,R,this),mt(this._element)}},{key:"element",get:function(){return this._element}},{key:"space",get:function(){return this._space}},{key:"area",get:function(){return{x:this._rect.x/this._space.width,y:this._rect.y/this._space.height,width:this._rect.width/this._space.width,height:this._rect.height/this._space.height}}},{key:"dirty",get:function(){return 0!==this._rect.x||0!==this._rect.y||0!==this._rect.width||0!==this._rect.height}},{key:"minWidth",set:function(t){this._minWidth=Math.max(t,1)}},{key:"minHeight",set:function(t){this._minHeight=Math.max(t,1)}},{key:"ratio",set:function(t){this._ratio=t}}]),t}()),vt=function(){var t=["input","change"],e=function(){function e(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),this._element=element,this._options=C(e.options(),t),this._ratio=null,this._output=null,this._rotating=!1,this._input=null,this._preview=null,this._previewBlurred=null,this._blurredPreview=!1,this._cropper=null,this._straightCrop=null,this._previewWrapper=null,this._currentWindowSize={},this._btnGroup=null,this._maskFrame=null,this._dirty=!1,this._wrapperRotation=0,this._wrapperScale=1,this._init()}return m(e,[{key:"_init",value:function(){var n=this;this._element.className="slim-image-editor",this._container=T("div","slim-container"),this._wrapper=T("div","slim-wrapper"),this._stage=T("div","slim-stage"),this._container.appendChild(this._stage),this._cropper=new _t,t.forEach((function(t){n._cropper.element.addEventListener(t,n)})),this._stage.appendChild(this._cropper.element),this._previewWrapper=T("div","slim-image-editor-preview slim-crop-preview"),this._previewBlurred=T("canvas","slim-crop-blur"),this._previewWrapper.appendChild(this._previewBlurred),this._wrapper.appendChild(this._previewWrapper),this._previewMask=T("div","slim-crop-mask"),this._preview=T("img"),this._previewMask.appendChild(this._preview),this._cropper.element.appendChild(this._previewMask),this._btnGroup=T("div","slim-editor-btn-group"),e.Buttons.forEach((function(t){var e=H(t),label=n._options["button"+e+"Label"],title=n._options["button"+e+"Title"],o=n._options["button"+e+"ClassName"],r=T("button","slim-editor-btn slim-btn-"+t+(o?" "+o:""));r.innerHTML=label,r.title=title||label,r.type="button",r.setAttribute("data-action",t),r.addEventListener("click",n),n._btnGroup.appendChild(r)})),this._utilsGroup=T("div","slim-editor-utils-group");var o=T("button","slim-editor-utils-btn slim-btn-rotate"+(this._options.buttonRotateClassName?" "+this._options.buttonRotateClassName:""));o.setAttribute("data-action","rotate"),o.addEventListener("click",this),o.title=this._options.buttonRotateTitle,this._utilsGroup.appendChild(o),this._container.appendChild(this._wrapper),this._element.appendChild(this._container),this._element.appendChild(this._utilsGroup),this._element.appendChild(this._btnGroup)}},{key:"dirty",value:function(){this._dirty=!0}},{key:"handleEvent",value:function(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onGridChange(t);break;case"input":this._onGridInput(t);break;case"keydown":this._onKeyDown(t);break;case"resize":this._onResize(t)}}},{key:"_onKeyDown",value:function(t){switch(t.keyCode){case z:this._confirm();break;case E:this._cancel()}}},{key:"_onClick",value:function(t){t.target.classList.contains("slim-btn-cancel")&&this._cancel(),t.target.classList.contains("slim-btn-confirm")&&this._confirm(),t.target.classList.contains("slim-btn-rotate")&&this._rotate()}},{key:"_onResize",value:function(){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._redraw(),this._redrawCropper(this._cropper.area),this._updateWrapperScale(),this._redrawWrapper()}},{key:"_redrawWrapper",value:function(){var t=c.createMatrix();t.scale(this._wrapperScale,this._wrapperScale),t.rotateZ(this._wrapperRotation*(Math.PI/180)),c.setElementTransform(this._previewWrapper,t)}},{key:"_onGridInput",value:function(){this._redrawCropMask()}},{key:"_onGridChange",value:function(){this._redrawCropMask()}},{key:"_updateWrapperRotation",value:function(){this._options.minSize.width>this._input.height||this._options.minSize.height>this._input.width?this._wrapperRotation+=180:this._wrapperRotation+=90}},{key:"_updateWrapperScale",value:function(){if(this._wrapperRotation%180!=0){var t=this._container.offsetWidth,e=this._container.offsetHeight,n=this._wrapper.offsetHeight,o=this._wrapper.offsetWidth,r=t/n;r*o>e&&(r=e/o),this._wrapperScale=r}else this._wrapperScale=1}},{key:"_cancel",value:function(){this._rotating||this._element.dispatchEvent(new CustomEvent("cancel"))}},{key:"_confirm",value:function(){if(!this._rotating){var rect,t,e,n=this._wrapperRotation%180!=0,area=this._cropper.area,o=(rect=area,t=n?this._input.height:this._input.width,e=n?this._input.width:this._input.height,{x:rect.x*t,y:rect.y*e,width:rect.width*t,height:rect.height*e});this._element.dispatchEvent(new CustomEvent("confirm",{detail:{rotation:this._wrapperRotation%360,crop:o}}))}}},{key:"_rotate",value:function(){var t=this;if(!this._rotating){this._rotating=!0,this._updateWrapperRotation();var rect=1===this.ratio||null===this._ratio?this._cropper.area:null;rect&&function(rect,t){var e=.5,n=.5,o=Math.PI/180*t,r=Math.cos(o),l=Math.sin(o),h=rect.x,c=rect.y,d=rect.x+rect.width,m=rect.y+rect.height,f=r*(h-e)+l*(c-n)+e,_=r*(c-n)-l*(h-e)+n,v=r*(d-e)+l*(m-n)+e,y=r*(m-n)-l*(d-e)+n;f<=v?(rect.x=f,rect.width=v-f):(rect.x=v,rect.width=f-v),_<=y?(rect.y=_,rect.height=y-_):(rect.y=y,rect.height=_-y)}(rect,90),this._updateWrapperScale(),this._hideCropper(),c(this._previewWrapper,{rotation:[0,0,this._wrapperRotation*(Math.PI/180)],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.8,springDeceleration:.65,complete:function(){t._redrawCropper(rect),t._showCropper(),t._rotating=!1}})}}},{key:"_showCropper",value:function(){c(this._stage,{easing:"ease",duration:250,fromOpacity:0,opacity:1})}},{key:"_hideCropper",value:function(){c(this._stage,{duration:0,fromOpacity:0,opacity:0})}},{key:"_redrawCropMask",value:function(){var t=this,e=this._wrapperRotation%360,n=this._wrapperScale,o=this._wrapper.offsetWidth,r=this._wrapper.offsetHeight,mask=this._cropper.area,l={x:0,y:0};0===e?(l.x=-mask.x,l.y=-mask.y):90===e?(l.x=-(1-mask.y),l.y=-mask.x):180===e?(l.x=-(1-mask.x),l.y=-(1-mask.y)):270===e&&(l.x=-mask.y,l.y=-(1-mask.x)),l.x*=o,l.y*=r,cancelAnimationFrame(this._maskFrame),this._maskFrame=requestAnimationFrame((function(){var o="scale("+n+") rotate("+-e+"deg) translate("+l.x+"px, "+l.y+"px);";t._preview.style.cssText="\n\t\t\t\t\twidth: "+t._previewSize.width+"px;\n\t\t\t\t\theight: "+t._previewSize.height+"px;\n\t\t\t\t\t-webkit-transform: "+o+";\n\t\t\t\t\ttransform: "+o+";\n\t\t\t\t"}))}},{key:"open",value:function(image,t,e,n,o){var r=this;if(!this._input||this._dirty||this._ratio!==t||this._wrapperRotation!==n){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._dirty=!1,this._wrapperRotation=n||0,this._blurredPreview=!1,this._ratio=t,this._previewSize=null,this._element.style.opacity="0",this._input=image;var rect,l,h,c=this._wrapperRotation%180!=0,d=(rect=e,l=c?image.height:image.width,h=c?image.width:image.height,{x:rect.x/l,y:rect.y/h,width:rect.width/l,height:rect.height/h});this._preview.onload=function(){r._preview.onload=null,r._cropper.ratio=r.ratio,r._redraw(),r._redrawCropper(d),o(),r._element.style.opacity=""};var m=st(this._input,Math.min(this._container.offsetWidth/this._input.width,this._container.offsetHeight/this._input.height)*this._options.devicePixelRatio);this._preview.src="",this._preview.src=m.toDataURL(),m.width=1,m.height=1,m=null}else o()}},{key:"_redrawCropper",value:function(rect){var t=this._wrapperRotation%180!=0,e=t?this._input.height/this._input.width:this._input.width/this._input.height,n=this._wrapper.offsetWidth,o=this._wrapper.offsetHeight,r=this._container.offsetWidth,l=this._container.offsetHeight;this._updateWrapperScale();var h=this._wrapperScale*(t?o:n),c=this._wrapperScale*(t?n:o),d=t?.5*(r-h):this._wrapper.offsetLeft,m=t?.5*(l-c):this._wrapper.offsetTop;this._stage.style.cssText="\n\t\t\t\tleft:"+d+"px;\n\t\t\t\ttop:"+m+"px;\n\t\t\t\twidth:"+h+"px;\n\t\t\t\theight:"+c+"px;\n\t\t\t",this._cropper.limit(h,h/e),this._cropper.offset(d+this._element.offsetLeft,m+this._element.offsetTop),this._cropper.minWidth=this._wrapperScale*this._options.minSize.width*this.scalar,this._cropper.minHeight=this._wrapperScale*this._options.minSize.height*this.scalar;var f=null;f=rect?{x:rect.x*h,y:rect.y*c,width:rect.width*h,height:rect.height*c}:it(h,c,this._ratio||c/h),this._cropper.resize(f.x,f.y,f.width,f.height)}},{key:"_redraw",value:function(){var t=this._input.height/this._input.width,e=this._container.clientWidth,n=this._container.clientHeight,o=e,r=o*t;r>n&&(o=(r=n)/t);var l,h,canvas,c,m=(e-(o=Math.round(o)))/2,f=(n-(r=Math.round(r)))/2;this._wrapper.style.cssText="\n\t\t\t\tleft:"+m+"px;\n\t\t\t\ttop:"+f+"px;\n\t\t\t\twidth:"+o+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._previewBlurred.style.cssText="\n\t\t\t\twidth:"+o+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._preview.style.cssText="\n\t\t\t\twidth:"+o+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._previewSize={width:o,height:r},this._blurredPreview||(this._previewBlurred.width=300,this._previewBlurred.height=this._previewBlurred.width*t,l=this._input,h=this._previewBlurred,c=h.getContext("2d"),(canvas=h).width&&canvas.height?c.drawImage(l,0,0,h.width,h.height):(h.width=l.width,h.height=l.height,c.drawImage(l,0,0)),function(canvas){d(canvas,0,0,canvas.width,canvas.height,3)}(this._previewBlurred),this._blurredPreview=!0)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._currentWindowSize.width===window.innerWidth&&this._currentWindowSize.height===window.innerHeight||(this._redraw(),this._redrawCropper(this._cropper.area)),document.addEventListener("keydown",this),window.addEventListener("resize",this);var e=this._wrapperRotation*(Math.PI/180);c(this._previewWrapper,{fromRotation:[0,0,e],rotation:[0,0,e],fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,fromScale:[this._wrapperScale-.02,this._wrapperScale-.02],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.3,springDeceleration:.85,delay:450,complete:function(){}}),this._cropper.dirty?c(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:850,complete:function(){F(this),t()}}):c(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:1e3,complete:function(){F(this)}}),c(this._btnGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,delay:function(i){return 1e3+100*i},easing:"spring",springConstant:.3,springDeceleration:.85,complete:function(){F(this)}}),c(this._utilsGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.85,delay:1250,complete:function(){F(this)}})}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};document.removeEventListener("keydown",this),window.removeEventListener("resize",this),c(this._utilsGroup.childNodes,{fromOpacity:1,opacity:0,duration:250}),c(this._btnGroup.childNodes,{fromOpacity:1,opacity:0,delay:200,duration:350}),c([this._stage,this._previewWrapper],{fromPosition:[0,0,0],position:[0,-250,0],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,delay:250,allDone:function(){t()}})}},{key:"destroy",value:function(){var e=this;ct(this._btnGroup.children).forEach((function(t){t.removeEventListener("click",e)})),t.forEach((function(t){e._cropper.element.removeEventListener(t,e)})),this._cropper.destroy(),this._previewBlurred&&(this._previewBlurred.width=1,this._previewBlurred.height=1),this._element.parentNode&&mt(this._element)}},{key:"showRotateButton",set:function(t){t?this._element.classList.remove("slim-rotation-disabled"):this._element.classList.add("slim-rotation-disabled")}},{key:"element",get:function(){return this._element}},{key:"ratio",get:function(){return"input"===this._ratio?this._input.height/this._input.width:this._ratio}},{key:"offset",get:function(){return this._element.getBoundingClientRect()}},{key:"original",get:function(){return this._input}},{key:"scalar",get:function(){return this._previewSize.width/this._input.width}}],[{key:"options",value:function(){return{buttonCancelClassName:null,buttonConfirmClassName:null,buttonCancelLabel:"Cancel",buttonConfirmLabel:"Confirm",buttonCancelTitle:null,buttonConfirmTitle:null,buttonRotateTitle:"Rotate",buttonRotateClassName:null,devicePixelRatio:null,minSize:{width:0,height:0}}}}]),e}();return e.Buttons=["cancel","confirm"],e}(),yt=(ot=["dragenter","dragover","dragleave","drop"],function(){function t(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");_(this,t),this._element=element,this._accept=[],this._allowURLs=!1,this._dragPath=null,this._init()}return m(t,[{key:"isValidDataTransfer",value:function(t){return t.files&&t.files.length?this.areValidDataTransferFiles(t.files):t.items&&t.items.length?this.areValidDataTransferItems(t.items):null}},{key:"areValidDataTransferFiles",value:function(t){return!this._accept.length||!t||-1!==this._accept.indexOf(t[0].type)}},{key:"areValidDataTransferItems",value:function(t){return!this._accept.length||!t||(this._allowURLs&&"string"===t[0].kind||t[0].type&&0===t[0].type.indexOf("application")?null:-1!==this._accept.indexOf(t[0].type))}},{key:"reset",value:function(){this._element.files=null}},{key:"_init",value:function(){var t=this;this._element.className="slim-file-hopper",ot.forEach((function(e){t._element.addEventListener(e,t)}))}},{key:"handleEvent",value:function(t){switch(t.type){case"dragenter":case"dragover":this._onDragOver(t);break;case"dragleave":this._onDragLeave(t);break;case"drop":this._onDrop(t)}}},{key:"_onDrop",value:function(t){t.preventDefault();var e=null;if(this._allowURLs){var n=void 0,meta=void 0;try{n=t.dataTransfer.getData("url"),meta=t.dataTransfer.getData("text/html")}catch(t){}if(meta&&meta.length){var o=meta.match(/src\s*=\s*"(.+?)"/);o&&(e=o[1])}else n&&n.length&&(e=n)}if(e)this._element.files=[{remote:e}];else{if(!this.isValidDataTransfer(t.dataTransfer))return this._element.dispatchEvent(new CustomEvent("file-invalid-drop")),void(this._dragPath=null);this._element.files=t.dataTransfer.files}this._element.dispatchEvent(new CustomEvent("file-drop",{detail:S(t)})),this._element.dispatchEvent(new CustomEvent("change")),this._dragPath=null}},{key:"_onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var e=this.isValidDataTransfer(t.dataTransfer);if(null!==e&&!e)return t.dataTransfer.dropEffect="none",void this._element.dispatchEvent(new CustomEvent("file-invalid"));this._dragPath||(this._dragPath=[]),this._dragPath.push(S(t)),this._element.dispatchEvent(new CustomEvent("file-over",{detail:{x:B(this._dragPath).x,y:B(this._dragPath).y}}))}},{key:"_onDragLeave",value:function(t){this._element.dispatchEvent(new CustomEvent("file-out",{detail:S(t)})),this._dragPath=null}},{key:"destroy",value:function(){var t=this;ot.forEach((function(e){t._element.removeEventListener(e,t)})),mt(this._element),this._element=null,this._dragPath=null,this._accept=null}},{key:"element",get:function(){return this._element}},{key:"dragPath",get:function(){return this._dragPath}},{key:"enabled",get:function(){return""===this._element.style.display},set:function(t){this._element.style.display=t?"":"none"}},{key:"allowURLs",set:function(t){this._allowURLs=t}},{key:"accept",set:function(t){this._accept=t},get:function(){return this._accept}}]),t}()),wt=function(){function t(){_(this,t),this._element=null,this._inner=null,this._init()}return m(t,[{key:"_init",value:function(){this._element=T("div","slim-popover"),this._element.setAttribute("data-state","off"),document.body.appendChild(this._element),this._element.addEventListener("touchmove",(function(t){t.preventDefault()}),!0)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._element.setAttribute("data-state","on"),c(this._element,{fromOpacity:0,opacity:1,duration:350,complete:function(){F(t._element),e()}})}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};c(this._element,{fromOpacity:1,opacity:0,duration:500,complete:function(){F(t._element),t._element.setAttribute("data-state","off"),e()}})}},{key:"destroy",value:function(){this._element.parentNode&&(this._element.parentNode.removeChild(this._element),this._element=null,this._inner=null)}},{key:"inner",set:function(element){this._inner=element,this._element.firstChild&&this._element.removeChild(this._element.firstChild),this._element.appendChild(this._inner)}},{key:"className",set:function(t){this._element.className="slim-popover"+(null===t?"":" "+t)}}]),t}(),bt=function(t,e){return t.split(e).map((function(t){return parseInt(t,10)}))},xt="auto",kt="initial",St="manual",Ct=["x","y","width","height"],Et=["file-invalid-drop","file-invalid","file-drop","file-over","file-out","click"],zt=["cancel","confirm"],Pt=["remove","edit","download","upload"],Mt=null,Rt=0,Lt='\n<div class="slim-loader">\n\t<svg>\n\t\t<path class="slim-loader-background" fill="none" stroke-width="3" />\n\t\t<path class="slim-loader-foreground" fill="none" stroke-width="3" />\n\t</svg>\n</div>\n',It='\n<div class="slim-upload-status"></div>\n',Tt=function(t){var e=t.split(",");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}},At=function(t,e){var i=t.indexOf(e);t.splice(i,1)},Ot=function(){function e(element){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),Mt||(Mt=new wt),this._uid=Rt++,this._options=C(e.options(),t),this._options.forceSize&&("string"==typeof this._options.forceSize&&(this._options.forceSize=Tt(this._options.forceSize)),this._options.ratio=this._options.forceSize.width+":"+this._options.forceSize.height,this._options.size=lt(this._options.forceSize)),"string"==typeof this._options.size&&(this._options.size=Tt(this._options.size)),"string"==typeof this._options.minSize&&(this._options.minSize=Tt(this._options.minSize)),"string"==typeof this._options.post&&(this._options.post=this._options.post.split(",").map((function(t){return t.trim()}))),this._originalElement=element,this._originalElementInner=element.innerHTML,this._originalElementAttributes=k(element),!function(element){return"DIV"===element.nodeName||"SPAN"===element.nodeName}(element)?(this._element=function(element){var t=T("div");return element.parentNode&&(element.nextSibling?element.parentNode.insertBefore(t,element.nextSibling):element.parentNode.appendChild(t)),t.appendChild(element),t}(element),this._element.className=element.className,element.className="",this._element.setAttribute("data-ratio",this._options.ratio)):this._element=element,this._element.classList.add("slim"),this._element.setAttribute("data-state","init"),this._state=[],this._timers=[],this._input=null,this._inputReference=null,this._output=null,this._ratio=null,this._isRequired=!1,this._imageHopper=null,this._imageEditor=null,this._progressEnabled=!0,this._data={},this._resetData(),this._drip=null,this._hasInitialImage=!1,this._initialCrop=this._options.crop,this._initialRotation=this._options.rotation&&this._options.rotation%90==0?this._options.rotation:null,this._isBeingDestroyed=!1,e.supported?this._init():this._fallback()}return m(e,[{key:"setRotation",value:function(t,e){if("number"==typeof t||t%90==0){this._data.actions.rotation=t;var n=this._data.actions.rotation%180!=0;if(this._data.input.image){var o=n?this._data.input.image.height:this._data.input.image.width,r=n?this._data.input.image.width:this._data.input.image.height;this._data.actions.crop=it(o,r,this._ratio),this._data.actions.crop.type=xt}this._data.input.image&&e&&this._manualTransform(e)}}},{key:"setSize",value:function(t,e){"string"==typeof t&&(t=Tt(t)),t&&t.width&&t.height&&(this._options.size=lt(t),this._data.actions.size=lt(t),this._data.input.image&&e&&this._manualTransform(e))}},{key:"setForceSize",value:function(t,e){"string"==typeof t&&(t=Tt(t)),t&&t.width&&t.height&&(this._options.size=lt(t),this._options.forceSize=lt(t),this._data.actions.size=lt(t),this.setRatio(this._options.forceSize.width+":"+this._options.forceSize.height,e))}},{key:"setRatio",value:function(t,e){var n=this;if(t&&"string"==typeof t&&(this._options.ratio=t,this._isFixedRatio())){var o=bt(this._options.ratio,":");this._ratio=o[1]/o[0],this._data.input.image&&e?this._cropAuto((function(data){n._scaleDropArea(n._ratio),e&&e(data)})):(this._data.input.image&&(this._data.actions.crop=it(this._data.input.image.width,this._data.input.image.height,this._ratio),this._data.actions.crop.type=xt),this._scaleDropArea(this._ratio),e&&e(null))}}},{key:"isAttachedTo",value:function(element){return this._element===element||this._originalElement===element}},{key:"isDetached",value:function(){return null===this._element.parentNode}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof e?n=e:(this._options.crop=e.crop,this._options.rotation=e.rotation,this._initialRotation=e.rotation&&e.rotation%90==0?e.rotation:null,this._initialCrop=this._options.crop),this._load(t,n,{blockPush:e.blockPush})}},{key:"upload",value:function(t){this._doUpload(t)}},{key:"download",value:function(){this._doDownload()}},{key:"remove",value:function(){return this._doRemove()}},{key:"destroy",value:function(){this._doDestroy()}},{key:"edit",value:function(){this._doEdit()}},{key:"crop",value:function(rect,t){this._crop(rect.x,rect.y,rect.width,rect.height,t)}},{key:"containsImage",value:function(){return null!==this._data.input.name}},{key:"_canInstantEdit",value:function(){return this._options.instantEdit&&!this._isInitialising}},{key:"_getFileInput",value:function(){return this._element.querySelector("input[type=file]")}},{key:"_getInitialImage",value:function(){return this._element.querySelector("img")}},{key:"_getInputElement",value:function(){return this._getFileInput()||this._getInitialImage()}},{key:"_getRatioSpacerElement",value:function(){return this._element.children[0]}},{key:"_isImageOnly",value:function(){return"INPUT"!==this._input.nodeName}},{key:"_isFixedRatio",value:function(){return-1!==this._options.ratio.indexOf(":")}},{key:"_isAutoCrop",value:function(){return this._data.actions.crop.type===xt}},{key:"_toggleButton",value:function(t,e){var n,o,r,l;n='.slim-btn[data-action="'+t+'"]',o=e,r=this._element,(l=r.querySelector(n))&&(l.style.display=o?"":"none")}},{key:"_clearState",value:function(){this._state=[],this._updateState()}},{key:"_removeState",value:function(t){this._state=this._state.filter((function(e){return e!==t})),this._updateState()}},{key:"_addState",value:function(t){N(t,this._state)||(this._state.push(t),this._updateState())}},{key:"_updateState",value:function(){this._element&&this._element.setAttribute("data-state",this._state.join(","))}},{key:"_resetData",value:function(){if(this._data.input&&this._data.output){var t=this._data.input.image,e=this._data.output.image;t&&"CANVAS"===t.nodeName&&w(t),e&&"CANVAS"===e.nodeName&&w(e)}this._data={server:null,meta:lt(this._options.meta),input:{field:this._inputReference,name:null,type:null,width:0,height:0,file:null},output:{image:null,width:0,height:0},actions:{rotation:null,crop:null,size:null}},this._output&&(this._output.value=""),function(input){if(input&&""!==input.value){try{input.value=""}catch(t){}if(input.value){var form=document.createElement("form"),t=input.parentNode,e=input.nextSibling;form.appendChild(input),form.reset(),e?t.insertBefore(input,e):t.appendChild(input)}}}(this._getFileInput())}},{key:"_init",value:function(){var t=this;if(this._isInitialising=!0,this._addState("empty"),N("input",this._options.post)&&(this._inputReference="slim_input_"+this._uid),this._input=this._getInputElement(),this._input||(this._input=T("input"),this._input.type="file",this._element.appendChild(this._input)),this._isRequired=!0===this._input.required,this._output=this._element.querySelector("input[type=hidden]"),this._output){var e=null;try{e=JSON.parse(this._output.value)}catch(t){}if(e){var img=new Image;img.src=e.output.image,img.setAttribute("data-filename",e.output.name),this._element.insertBefore(img,this._element.firstChild)}}else this._output=T("input"),this._output.type="hidden",this._output.name=this._input.name||this._options.defaultInputName,this._element.appendChild(this._output);this._input.removeAttribute("name");var area=T("div","slim-area"),n=this._getInitialImage(),o=(n||{}).src,r=n?n.getAttribute("data-filename"):null;o?this._hasInitialImage=!0:(this._initialCrop=null,this._initialRotation=null);var l='\n\t\t<div class="slim-result">\n\t\t\t<img class="in" style="opacity:0" '+(o?'src="'+o+'"':"")+'><img><img style="opacity:0">\n\t\t</div>';if(this._isImageOnly())area.innerHTML="\n\t\t\t\t"+Lt+"\n\t\t\t\t"+It+"\n\t\t\t\t"+l+'\n\t\t\t\t<div class="slim-status"><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t";else{N("input",this._options.post)&&(this._data.input.field=this._inputReference,this._options.service||(this._input.name=this._inputReference));var h=void 0;this._input.hasAttribute("accept")&&"image/*"!==this._input.getAttribute("accept")?h=this._input.accept.split(",").map((function(t){return t.trim()})).filter((function(t){return t.length>0})):(h=function(){var t=[],e=void 0,n=void 0;for(e in L)L.hasOwnProperty(e)&&(n=L[e],-1==t.indexOf(n)&&t.push(n));return t}(),this._input.setAttribute("accept",h.join(","))),this._imageHopper=new yt,this._imageHopper.accept=h,this._imageHopper.allowURLs="string"==typeof this._options.fetcher,this._element.appendChild(this._imageHopper.element),Et.forEach((function(e){t._imageHopper.element.addEventListener(e,t)})),area.innerHTML="\n\t\t\t\t"+Lt+"\n\t\t\t\t"+It+'\n\t\t\t\t<div class="slim-drip"><span><span></span></span></div>\n\t\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+'</div><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t\t"+l+"\n\t\t\t",this._input.addEventListener("change",this)}if(this._element.appendChild(area),this._btnGroup=T("div","slim-btn-group"),this._btnGroup.style.display="none",this._element.appendChild(this._btnGroup),Pt.filter((function(e){return t._isButtonAllowed(e)})).forEach((function(e){var n=H(e),label=t._options["button"+n+"Label"],title=t._options["button"+n+"Title"]||label,o=t._options["button"+n+"ClassName"],r=T("button","slim-btn slim-btn-"+e+(o?" "+o:""));r.innerHTML=label,r.title=title,r.type="button",r.addEventListener("click",t),r.setAttribute("data-action",e),t._btnGroup.appendChild(r)})),this._isFixedRatio()){var c=bt(this._options.ratio,":");this._ratio=c[1]/c[0],this._scaleDropArea(this._ratio)}this._updateProgress(.5),o?this._load(o,(function(){t._onInit()}),{name:r}):this._onInit()}},{key:"_onInit",value:function(){var t=this;this._isInitialising=!1;var e=function(){var e=setTimeout((function(){At(t._timers,e),t._options.didInit.apply(t,[t.data,t])}),0);t._timers.push(e)};this._options.saveInitialImage&&this.containsImage()?this._options.service||this._save((function(){e()}),!1):(this._options.service&&this.containsImage()&&this._toggleButton("upload",!1),e())}},{key:"_updateProgress",value:function(progress){if(progress=Math.min(.99999,progress),this._element&&this._progressEnabled){var t=this._element.querySelector(".slim-loader");if(t){var e=t.offsetWidth,n=t.querySelectorAll("path"),o=parseInt(n[0].getAttribute("stroke-width"),10);.5*e<o||(n[0].setAttribute("d",gt(.5*e,.5*e,.5*e-o,.9999)),n[1].setAttribute("d",gt(.5*e,.5*e,.5*e-o,progress)))}}}},{key:"_startProgress",value:function(t){var e=this;if(this._element){this._progressEnabled=!1;var n=this._element.querySelector(".slim-loader");if(n){var o=n.children[0];this._stopProgressLoop((function(){n.removeAttribute("style"),o.removeAttribute("style"),e._progressEnabled=!0,e._updateProgress(0),e._progressEnabled=!1,c(o,{fromOpacity:0,opacity:1,duration:250,complete:function(){e._progressEnabled=!0,t&&t()}})}))}}}},{key:"_stopProgress",value:function(){var t=this;if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var n=e.children[0];this._updateProgress(1),c(n,{fromOpacity:1,opacity:0,duration:250,complete:function(){e.removeAttribute("style"),n.removeAttribute("style"),t._updateProgress(.5),t._progressEnabled=!1}})}}}},{key:"_startProgressLoop",value:function(){if(this._element){var t=this._element.querySelector(".slim-loader");if(t){var e=t.children[0];t.removeAttribute("style"),e.removeAttribute("style"),this._updateProgress(.5);c(t,"stop"),c(t,{rotation:[0,0,-2*Math.PI*1e3],easing:"linear",duration:1e6}),c(e,{fromOpacity:0,opacity:1,duration:250})}}}},{key:"_stopProgressLoop",value:function(t){if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var n=e.children[0];c(n,{fromOpacity:parseFloat(n.style.opacity),opacity:0,duration:250,complete:function(){c(e,"stop"),e.removeAttribute("style"),n.removeAttribute("style"),t&&t()}})}}}},{key:"_isButtonAllowed",value:function(button){return"edit"===button?this._options.edit:"download"===button?this._options.download:"upload"===button?!!this._options.service&&!this._options.push:"remove"!==button||!this._isImageOnly()}},{key:"_fallback",value:function(){var area=T("div","slim-area");area.innerHTML='\n\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+"</div></div>\n\t\t",this._element.appendChild(area),this._throwError(this._options.statusNoSupport)}},{key:"handleEvent",value:function(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onChange(t);break;case"cancel":this._onCancel(t);break;case"confirm":this._onConfirm(t);break;case"file-over":this._onFileOver(t);break;case"file-out":this._onFileOut(t);break;case"file-drop":this._onDropFile(t);break;case"file-invalid":this._onInvalidFile(t);break;case"file-invalid-drop":this._onInvalidFileDrop(t)}}},{key:"_getIntro",value:function(){return this._element.querySelector(".slim-result .in")}},{key:"_getOutro",value:function(){return this._element.querySelector(".slim-result .out")}},{key:"_getInOut",value:function(){return this._element.querySelectorAll(".slim-result img")}},{key:"_getDrip",value:function(){return this._drip||(this._drip=this._element.querySelector(".slim-drip > span")),this._drip}},{key:"_throwError",value:function(t){this._addState("error"),this._element.querySelector(".slim-label").style.display="none";var e=this._element.querySelector(".slim-error");e||(e=T("div","slim-error"),this._element.querySelector(".slim-status").appendChild(e)),e.innerHTML=t,this._options.didThrowError.apply(this,[t])}},{key:"_removeError",value:function(){this._removeState("error"),this._element.querySelector(".slim-label").style.display="";var t=this._element.querySelector(".slim-error");t&&t.parentNode.removeChild(t)}},{key:"_openFileDialog",value:function(){this._removeError(),this._input.click()}},{key:"_onClick",value:function(t){var e=this,n=t.target.classList,o=t.target;if(n.contains("slim-file-hopper"))return t.preventDefault(),void this._openFileDialog();switch(o.getAttribute("data-action")){case"remove":this._options.willRemove.apply(this,[this.data,function(){e._doRemove()}]);break;case"edit":this._doEdit();break;case"download":this._doDownload();break;case"upload":this._doUpload()}}},{key:"_onInvalidFileDrop",value:function(){this._onInvalidFile(),this._removeState("file-over");var t=this._getDrip();c(t.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(t.firstChild)}})}},{key:"_onInvalidFile",value:function(){var t=this._imageHopper.accept.map(W),e=this._options.statusFileType.replace("$0",t.join(", "));this._throwError(e)}},{key:"_onImageTooSmall",value:function(){var t=this._options.statusImageTooSmall.replace("$0",this._options.minSize.width+"  "+this._options.minSize.height);this._throwError(t)}},{key:"_onOverWeightFile",value:function(){var t=this._options.statusFileSize.replace("$0",this._options.maxFileSize);this._throwError(t)}},{key:"_onLocalURLProblem",value:function(t){this._throwError(this._options.statusLocalUrlProblem||t)}},{key:"_onRemoteURLProblem",value:function(t){this._throwError(t)}},{key:"_onFileOver",value:function(t){this._addState("file-over"),this._removeError();var e=this._getDrip(),n=c.createMatrix();n.translate(t.detail.x,t.detail.y,0),c.setElementTransform(e,n),1==this._imageHopper.dragPath.length&&(e.style.opacity=1,c(e.firstChild,{fromOpacity:0,opacity:.5,fromScale:[0,0],scale:[.5,.5],duration:150}))}},{key:"_onFileOut",value:function(t){this._removeState("file-over"),this._removeState("file-invalid"),this._removeError();var e=this._getDrip(),n=c.createMatrix();n.translate(t.detail.x,t.detail.y,0),c.setElementTransform(e,n),c(e.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(e.firstChild)}})}},{key:"_onDropFile",value:function(t){var e=this;this._removeState("file-over");var n=this._getDrip(),o=c.createMatrix();o.translate(t.detail.x,t.detail.y,0),c.setElementTransform(n,o);var r=this._imageHopper.dragPath.length,l=this._imageHopper.dragPath[r-Math.min(10,r)],h=t.detail.x-l.x,d=t.detail.y-l.y;c(n,{fromPosition:[t.detail.x,t.detail.y,0],position:[t.detail.x+h,t.detail.y+d,0],duration:200}),c(n.firstChild,{fromScale:[.5,.5],scale:[2,2],fromOpacity:1,opacity:0,duration:200,complete:function(){F(n.firstChild),e._load(t.target.files[0])}})}},{key:"_onChange",value:function(t){t.target.files.length&&this._load(t.target.files[0])}},{key:"_load",value:function(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._isBeingDestroyed){if(this.containsImage())return clearTimeout(this._replaceTimeout),void this._doRemove((function(){o._replaceTimeout=setTimeout((function(){o._load(e,n,r)}),100)}));this._removeState("empty"),this._addState("busy"),this._startProgressLoop(),this._imageHopper&&(this._imageHopper.enabled=!1),clearTimeout(this._loadTimeout);var l=function(){o._imageHopper&&(o._imageHopper.enabled=!0),o._removeState("loading"),o._removeState("busy"),o._addState("empty"),o._stopProgressLoop()};if("string"!=typeof e){if(void 0!==e.remote)return Z(e.remote)?void this._load($(e.remote),n,r):void(this._options.fetcher&&function(t,e,n,o,r,l){t=t+(-1!==t.indexOf("?")?"&":"?")+"url="+o;var h=new XMLHttpRequest;h.open("GET",t,!0),e(h),h.responseType="json",h.onload=function(){"failure"!==this.response.status?Q(this.response.body,n,l):r(this.response.message)},h.send()}(this._options.fetcher,this._options.willFetch,this._options.willLoad,e.remote,(function(t){l(),o._onRemoteURLProblem("<p>"+t+"</p>"),n&&n.apply(o,["remote-url-problem"])}),(function(t){o._load(t,n,r)})));var h=e;if(this._imageHopper&&-1===this._imageHopper.accept.indexOf(h.type))return l(),this._onInvalidFile(),void(n&&n.apply(this,["file-invalid"]));if(h.size&&this._options.maxFileSize&&h.size/1e6>this._options.maxFileSize)return l(),this._onOverWeightFile(),void(n&&n.apply(this,["file-too-big"]));this._imageEditor&&this._imageEditor.dirty(),this._data.input.name=r&&r.name?r.name:function(t){return void 0===t.name?G(new Date)+"."+W(J(t)):t.name}(h),this._data.input.type=J(h),this._data.input.size=h.size,this._data.input.file=h;var d=this._options.internalCanvasSize;y()&&(d=this._options.internalCanvasSizeLowMemory),function(e,n,o){var r="string"!=typeof e||0!==e.indexOf("data:image");t.parseMetaData(e,(function(meta){var l={canvas:!0,crossOrigin:r};n&&(l.maxWidth=n.width,l.maxHeight=n.height),meta.exif&&(l.orientation=meta.exif.get("Orientation")),t(e,(function(t){"error"!==t.type?o(t,meta):o()}),l)}))}(h,d,(function(image,meta){var t=function(){o._imageHopper&&(o._imageHopper.enabled=!0),o._removeState("loading"),o._removeState("busy"),o._addState("empty"),o._stopProgressLoop(),o._resetData()};if(!image)return t(),void(n&&n.apply(o,["file-not-found"]));if(!function(image,rect){return parseInt(image.width,10)>=rect.width&&parseInt(image.height,10)>=rect.height}(image,o._options.minSize))return t(),o._onImageTooSmall(),void(n&&n.apply(o,["image-too-small"]));var e=o._options.didLoad.apply(o,[h,image,meta,o]);if(!0!==e)return t(),!1!==e&&o._throwError(e),void(n&&n.apply(o,[e]));o._removeState("loading");o._options.willLoadCanvas.apply(o,[image,function(t){o._loadCanvas(t,(function(t){o._addState("preview"),function(t){o._imageHopper&&o._options.dropReplace&&(o._imageHopper.enabled=!0);var e=o._getIntro(),n={fromScale:[1.25,1.25],scale:[1,1],fromOpacity:0,opacity:1,complete:function(){F(e),e.style.opacity=1,t()}};o.isDetached()?n.duration=1:(n.easing="spring",n.springConstant=.3,n.springDeceleration=.7),o._canInstantEdit()&&(n.delay=500,n.duration=1,o._doEdit()),c(e,n)}((function(){o._canInstantEdit()||t||o._showButtons(),t||(o._stopProgressLoop(),o._removeState("busy")),n&&n.apply(o,[null,o.data])}))}),(function(){o._canInstantEdit()||o._showButtons(),o._removeState("busy")}),{blockPush:r.blockPush})},o])}))}else Z(e)?this._load($(e),n,r):(clearTimeout(o._loadTimeout),o._loadTimeout=setTimeout((function(){o._isBeingDestroyed||(o._addState("loading"),c(o._element.querySelector(".slim-label-loading"),{fromOpacity:0,opacity:1,duration:250}))}),500),Q(e,this._options.willLoad,(function(t){o._load(t,n,r)}),(function(t){setTimeout((function(){l(),o._onLocalURLProblem("<p>"+t+"</p>"),n&&n.apply(o,["local-url-problem"])}),500)})))}}},{key:"_loadCanvas",value:function(image,t,e,n){var o=this;if(n||(n={}),!this._isBeingDestroyed){y()?(this._data.input.image=new Image,this._data.input.image.src=image.toDataURL()):this._data.input.image=image,this._data.input.width=image.width,this._data.input.height=image.height,this._initialRotation&&(this._data.actions.rotation=this._initialRotation,this._initialRotation=null);var r=this._data.actions.rotation%180!=0;this._isFixedRatio()||(this._initialCrop?this._ratio=this._initialCrop.height/this._initialCrop.width:this._ratio=r?image.width/image.height:image.height/image.width,this._scaleDropArea(this._ratio));var l=function(){o._options.size&&(o._data.actions.size={width:o._options.size.width,height:o._options.size.height}),o._applyTransforms(image,(function(r){var l=o._getIntro(),h=l.offsetWidth/r.width,c=!1;o._options.service&&o._options.push&&!n.blockPush&&(o._hasInitialImage||o._canInstantEdit()||(c=!0,o._stopProgressLoop((function(){o._startProgress((function(){o._updateProgress(.1)}))})))),o._canInstantEdit()||o._save((function(){o._isBeingDestroyed||c&&(o._stopProgress(),e())}),c);var d="auto"===o._options.devicePixelRatio?window.devicePixelRatio:o._options.devicePixelRatio,m=st(r,h*d);l.src="",l.src=m.toDataURL(),w(m),m=null,l.onload=function(){l.onload=null,o._isBeingDestroyed||t&&t(c)}}))};this._initialCrop?(this._data.actions.crop=lt(this._initialCrop),this._data.actions.crop.type=kt,this._initialCrop=null,l()):this._options.willCropInitial.apply(this,[this.data,function(rect){rect?(o._data.actions.crop=rect,o._data.actions.crop.type=kt):(o._data.actions.crop=it(r?image.height:image.width,r?image.width:image.height,o._ratio),o._data.actions.crop.type=xt),l()},this])}}},{key:"_applyTransforms",value:function(image,t){var e=this;this._data.output.image&&w(this._data.output.image);var n=lt(this._data.actions);n.filters={sharpen:this._options.filterSharpen/100},this._options.forceMinSize?n.minSize=this._options.minSize:n.minSize={width:0,height:0},function(canvas){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments[2],n=T("canvas"),o=t.rotation,r=t.crop,l=t.size,h=t.filters,c=t.minSize;if(r){var d=o%180!=0,m={width:d?canvas.height:canvas.width,height:d?canvas.width:canvas.height};r.x<0&&(r.x=0),r.y<0&&(r.y=0),r.width>m.width&&(r.width=m.width),r.height>m.height&&(r.height=m.height),r.y+r.height>m.height&&(r.y=Math.max(0,m.height-r.height)),r.x+r.width>m.width&&(r.x=Math.max(0,m.width-r.width));var f=r.x/m.width,_=r.y/m.height,v=r.width/m.width,y=r.height/m.height;n.width=Math.round(r.width),n.height=Math.round(r.height);var w=n.getContext("2d");90===o?(w.translate(.5*n.width,.5*n.height),w.rotate(-90*Math.PI/180),w.drawImage(canvas,(1-_)*canvas.width-canvas.width*y,r.x,r.height,r.width,.5*-n.height,.5*-n.width,n.height,n.width)):180===o?(w.translate(.5*n.width,.5*n.height),w.rotate(-180*Math.PI/180),w.drawImage(canvas,(1-(f+v))*m.width,(1-(_+y))*m.height,v*m.width,y*m.height,.5*-n.width,.5*-n.height,n.width,n.height)):270===o?(w.translate(.5*n.width,.5*n.height),w.rotate(-270*Math.PI/180),w.drawImage(canvas,r.y,(1-f)*canvas.height-canvas.height*v,r.height,r.width,.5*-n.height,.5*-n.width,n.height,n.width)):w.drawImage(canvas,r.x,r.y,r.width,r.height,0,0,n.width,n.height)}if(l){var x=l.width/n.width,k=l.height/n.height;et(n,Math.min(x,k),l,c),h.sharpen>0&&filter(n,at(h.sharpen))}e(n)}(image,n,(function(n){var rect,canvas,o,r,l=n;(e._options.forceSize||e._options.size&&1==(rect=e._options.size,canvas=n,o=Math.abs(rect.width-canvas.width),r=Math.abs(rect.height-canvas.height),Math.max(o,r)))&&((l=T("canvas")).width=e._options.size.width,l.height=e._options.size.height,l.getContext("2d").drawImage(n,0,0,e._options.size.width,e._options.size.height),w(n));if(e._options.forceMinSize&&e._options.size&&e._options.minSize.width===e._options.size.width&&e._options.minSize.height===e._options.size.height&&(l.width<e._options.minSize.width||l.height<e._options.minSize.height)){var h=Math.max(l.width,e._options.minSize.width),c=Math.max(l.height,e._options.minSize.height);(l=T("canvas")).width=h,l.height=c,l.getContext("2d").drawImage(n,0,0,h,c),w(n)}e._options.forceMinSize&&1===e._ratio&&(l.width<e._options.minSize.width||l.height<e._options.minSize.height)&&((l=T("canvas")).width=e._options.minSize.width,l.height=e._options.minSize.height,l.getContext("2d").drawImage(n,0,0,l.width,l.height),w(n));e._data.output.width=l.width,e._data.output.height=l.height,e._data.output.image=l,e._onTransformCanvas((function(n){e._data=n,e._options.didTransform.apply(e,[e.data,e]),t(e._data.output.image)}))}))}},{key:"_onTransformCanvas",value:function(t){this._options.willTransform.apply(this,[this.data,t,this])}},{key:"_appendEditor",value:function(){var t=this;this._imageEditor||(this._imageEditor=new vt(T("div"),{minSize:this._options.minSize,devicePixelRatio:this._options.devicePixelRatio,buttonConfirmClassName:this._options.buttonConfirmClassName,buttonCancelClassName:this._options.buttonCancelClassName,buttonRotateClassName:this._options.buttonRotateClassName,buttonConfirmLabel:this._options.buttonConfirmLabel,buttonCancelLabel:this._options.buttonCancelLabel,buttonRotateLabel:this._options.buttonRotateLabel,buttonConfirmTitle:this._options.buttonConfirmTitle,buttonCancelTitle:this._options.buttonCancelTitle,buttonRotateTitle:this._options.buttonRotateTitle}),zt.forEach((function(e){t._imageEditor.element.addEventListener(e,t)})))}},{key:"_scaleDropArea",value:function(t){var e=this._getRatioSpacerElement();e&&this._element&&(e.style.marginBottom=100*t+"%",this._element.setAttribute("data-ratio","1:"+t))}},{key:"_onCancel",value:function(t){this._removeState("editor"),this._options.didCancel.apply(this,[this]),this._showButtons(),this._hideEditor(),this._options.instantEdit&&!this._hasInitialImage&&this._isAutoCrop()&&this._doRemove()}},{key:"_onConfirm",value:function(t){var e=this,n=this._options.service&&this._options.push;n?this._startProgress((function(){e._updateProgress(.1)})):this._startProgressLoop(),this._removeState("editor"),this._addState("busy"),this._output.value="",this._data.actions.rotation=t.detail.rotation,this._data.actions.crop=t.detail.crop,this._data.actions.crop.type=St,this._applyTransforms(this._data.input.image,(function(t){e._options.didConfirm.apply(e,[e.data,e]);var o=e._getInOut(),r="out"===o[0].className?o[0]:o[1],l=r===o[0]?o[1]:o[0];r.className="in",r.style.opacity="0",r.style.zIndex="2",l.className="out",l.style.zIndex="1";var h="auto"===e._options.devicePixelRatio?window.devicePixelRatio:e._options.devicePixelRatio,c=st(t,r.offsetWidth/t.width*h);r.src="",r.src=c.toDataURL(),w(c),c=null,r.onload=function(){r.onload=null,"free"===e._options.ratio&&(e._ratio=r.naturalHeight/r.naturalWidth,e._scaleDropArea(e._ratio)),e._hideEditor();var t=setTimeout((function(){At(e._timers,t),e._showPreview(r,(function(){e._save((function(t,data,o){e._toggleButton("upload",!0),n?e._stopProgress():e._stopProgressLoop(),e._removeState("busy"),e._showButtons()}),n)}))}),250);e._timers.push(t)}}))}},{key:"_cropAuto",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(data){},e=this._data.actions.rotation%180!=0,rect=it(e?this._data.input.image.height:this._data.input.image.width,e?this._data.input.image.width:this._data.input.image.height,this._ratio);this._crop(rect.x,rect.y,rect.width,rect.height,t,xt)}},{key:"_crop",value:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(data){},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:St;this._output.value="",this._data.actions.crop={x:t,y:e,width:n,height:o},this._data.actions.crop.type=l,this._manualTransform(r)}},{key:"_manualTransform",value:function(t){var e=this;this._startProgressLoop(),this._addState("busy"),this._applyTransforms(this._data.input.image,(function(n){var o=e._getInOut(),r="out"===o[0].className?o[0]:o[1],l=r===o[0]?o[1]:o[0];r.className="in",r.style.opacity="1",r.style.zIndex="2",l.className="out",l.style.zIndex="0";var h="auto"===e._options.devicePixelRatio?window.devicePixelRatio:e._options.devicePixelRatio,c=st(n,r.offsetWidth/n.width*h);r.src="",r.src=c.toDataURL(),w(c),c=null,r.onload=function(){r.onload=null,"free"===e._options.ratio&&(e._ratio=r.naturalHeight/r.naturalWidth,e._scaleDropArea(e._ratio));var n=e._options.service&&e._options.push,o=function(){e._save((function(o,data,r){n||e._stopProgressLoop(),e._removeState("busy"),t.apply(e,[e.data])}),n)};n?e._startProgress(o):o()}}))}},{key:"_save",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._isBeingDestroyed){var data=this.dataBase64;this._options.service||this._isInitialising&&!this._isImageOnly()||this._options.willSave.apply(this,[data,function(data){t._store(data),t._options.didSave.apply(t,[data,t])},this]),this._isBeingDestroyed||(this._options.service&&n&&this._options.willSave.apply(this,[data,function(data){t._addState("upload"),t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!1),t._upload(data,(function(n,o){t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!0),n||t._storeServerResponse(o),t._options.didUpload.apply(t,[n,data,o,t]),t._removeState("upload"),e(n,data,o)}))},this]),this._options.service&&n||e())}}},{key:"_storeServerResponse",value:function(data){this._isRequired&&(this._input.required=!1),this._data.server=data,this._output.value="object"===(void 0===data?"undefined":f(data))?JSON.stringify(this._data.server):data}},{key:"_store",value:function(data){this._isRequired&&(this._input.required=!1),this._output.value=JSON.stringify(data)}},{key:"_upload",value:function(data,t){var e=this;this.requestOutput((function(n,o){var r=e._element.querySelector(".slim-upload-status"),l=e._options.willRequest,h=function(t,n){e._updateProgress(Math.max(.1,t/n))},c=function(n){var o=setTimeout((function(){if(At(e._timers,t),!e._isBeingDestroyed){r.innerHTML=e._options.statusUploadSuccess,r.setAttribute("data-state","success"),r.style.opacity=1;var t=setTimeout((function(){At(e._timers,t),r.style.opacity=0}),2e3);e._timers.push(t)}}),250);e._timers.push(o),t(null,n)},d=function(n){var html="";html="file-too-big"===n?e._options.statusContentLength:e._options.didReceiveServerError.apply(e,[n,e._options.statusUnknownResponse,e]);var o=setTimeout((function(){At(e._timers,o),r.innerHTML=html,r.setAttribute("data-state","error"),r.style.opacity=1}),250);e._timers.push(o),t(n)};"string"==typeof e._options.service?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",data=arguments[2],n=arguments[3],progress=arguments[4],o=arguments[5],r=arguments[6],l=new XMLHttpRequest;progress&&l.upload.addEventListener("progress",(function(t){progress(t.loaded,t.total)})),l.open(e,t,!0),n&&n(l,data),l.onreadystatechange=function(){if(4===l.readyState&&l.status>=200&&l.status<300){var text=l.responseText;if(!text.length)return void o();if(-1!==text.indexOf("Content-Length"))return void r("file-too-big");var t=void 0;try{t=JSON.parse(l.responseText)}catch(t){}if("object"===(void 0===t?"undefined":f(t))&&"failure"===t.status)return void r(t.message);o(t||text)}else if(4===l.readyState){var e=void 0;try{e=JSON.parse(l.responseText)}catch(t){}if("object"===(void 0===e?"undefined":f(e))&&"failure"===e.status)return void r(e.message);r("fail")}},l.send(data)}(e._options.service,e._options.uploadMethod,o,l,h,c,d):"function"==typeof e._options.service&&e._options.service.apply(e,["file"===e._options.serviceFormat?n:o,h,c,d,e])}),data)}},{key:"requestOutput",value:function(e,data){var n=this;this._data.input.file?(data||(data=this.dataBase64),t.parseMetaData(this._data.input.file,(function(o){var r=[],l=new FormData;if(N("input",n._options.post)&&(r.push(n._data.input.file),l.append(n._inputReference,n._data.input.file,n._data.input.file.name)),N("output",n._options.post)&&null!==n._data.output.image&&!1===n._options.uploadBase64){var output=$(data.output.image,data.output.name);if(o.imageHead&&n._options.copyImageHead)try{output=new Blob([o.imageHead,t.blobSlice.call(output,20)],{type:pt(data.output.image)}),output=X(output,data.output.name)}catch(t){}r.push(output);var h=n._output.name||"image";data.output.image=null,data.output.field=h,l.append(h,output,data.output.name)}l.append(n._output.name,JSON.stringify(data)),e(r,l)}),{maxMetaDataSize:262144,disableImageHead:!1})):e(null,null)}},{key:"_showEditor",value:function(){Mt.className=this._options.popoverClassName,Mt.show(),this._imageEditor.show()}},{key:"_hideEditor",value:function(){var t=this;this._imageEditor.hide();var e=setTimeout((function(){At(t._timers,e),Mt.hide()}),250);this._timers.push(e)}},{key:"_showPreview",value:function(t,e){c(t,{fromPosition:[0,50,0],position:[0,0,0],fromScale:[1.5,1.5],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.7,complete:function(){F(t),e&&e()}})}},{key:"_hideResult",value:function(t){var e=this._getIntro();e&&c(e,{fromScale:[1,1],scale:[.5,.5],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,complete:function(){F(e),t&&t()}})}},{key:"_showButtons",value:function(t){if(this._btnGroup){this._btnGroup.style.display="";var e={fromScale:[.5,.5],scale:[1,1],fromPosition:[0,10,0],position:[0,0,0],fromOpacity:0,opacity:1,complete:function(){F(this)},allDone:function(){t&&t()}};this.isDetached()?e.duration=1:(e.delay=function(i){return 250+50*i},e.easing="spring",e.springConstant=.3,e.springDeceleration=.85),c(this._btnGroup.childNodes,e)}}},{key:"_hideButtons",value:function(t){var e=this;if(this._btnGroup){var n={fromScale:[1,1],scale:[.85,.85],fromOpacity:1,opacity:0,allDone:function(){e._btnGroup.style.display="none",t&&t()}};this.isDetached()?n.duration=1:(n.easing="spring",n.springConstant=.3,n.springDeceleration=.75),c(this._btnGroup.childNodes,n)}}},{key:"_hideStatus",value:function(){this._element.querySelector(".slim-upload-status").style.opacity=0}},{key:"_doEdit",value:function(){var t=this;this._data.input.image&&(this._addState("editor"),this._imageEditor||this._appendEditor(),this._imageEditor.showRotateButton=this._options.rotateButton,Mt.inner=this._imageEditor.element,this._imageEditor.open(this._data.input.image,"free"===this._options.ratio?null:this._ratio,this._data.actions.crop,this._data.actions.rotation,(function(){t._showEditor(),t._hideButtons(),t._hideStatus()})))}},{key:"_doRemove",value:function(t){var e=this;if(!this._isImageOnly()){this._clearState(),this._addState("empty"),this._hasInitialImage=!1,this._imageHopper&&(this._imageHopper.enabled=!0),this._isRequired&&(this._input.required=!0);var n=this._getOutro();n&&(n.style.opacity="0");var data=this.data;this._resetData();var o=setTimeout((function(){At(e._timers,o),e._isBeingDestroyed||(e._hideButtons((function(){e._toggleButton("upload",!0)})),e._hideStatus(),e._hideResult(),e._options.didRemove.apply(e,[data,e]),t&&t())}),this.isDetached()?0:250);return this._timers.push(o),data}}},{key:"_doUpload",value:function(t){var e=this;this._data.input.image&&(this._addState("upload"),this._startProgress(),this._hideButtons((function(){e._toggleButton("upload",!1),e._save((function(n,data,o){e._removeState("upload"),e._stopProgress(),t&&t.apply(e,[n,data,o]),n&&e._toggleButton("upload",!0),e._showButtons()}))})))}},{key:"_doDownload",value:function(){var data,t,e,canvas,n,o;this._data.output.image&&(data=this._data,t=this._options.jpegCompression,e=this._options.forceType,canvas=data.output.image,n=e?Y(data.input.name)+"."+e:data.input.name,"image/png"===(o=L[e]||data.input.type)&&(n=Y(data.input.name)+".png"),canvas.toBlob((function(t){if("msSaveBlob"in window.navigator)window.navigator.msSaveBlob(t,n);else{var e=(window.URL||window.webkitURL).createObjectURL(t),link=T("a");link.style.display="none",link.download=n,link.href=e,document.body.appendChild(link),link.click(),setTimeout((function(){document.body.removeChild(link),(window.URL||window.webkitURL).revokeObjectURL(e)}),0)}}),o,"number"==typeof t?t/100:void 0))}},{key:"_doDestroy",value:function(){var t=this;function e(a,t){return 0!==t.filter((function(t){return a.name===t.name&&a.value===t.value})).length}this._isBeingDestroyed=!0,this._timers.forEach((function(t){clearTimeout(t)})),this._timers=[],c(this._element,"detach"),this._imageHopper&&(Et.forEach((function(e){t._imageHopper.element.removeEventListener(e,t)})),this._imageHopper.destroy(),this._imageHopper=null),this._imageEditor&&(zt.forEach((function(e){t._imageEditor.element.removeEventListener(e,t)})),this._imageEditor.destroy(),this._imageEditor=null),ct(this._btnGroup.children).forEach((function(e){e.removeEventListener("click",t)})),this._input.removeEventListener("change",this),this._element!==this._originalElement&&this._element.parentNode&&this._element.parentNode.replaceChild(this._originalElement,this._element),this._originalElement.innerHTML=this._originalElementInner;var n=k(this._originalElement);n.forEach((function(n){e(n,t._originalElementAttributes)||t._originalElement.removeAttribute(n.name)})),this._originalElementAttributes.forEach((function(o){e(o,n)||t._originalElement.setAttribute(o.name,o.value)})),Rt=Math.max(0,Rt-1),Mt&&0===Rt&&(Mt.destroy(),Mt=null);var o=this._data.input.image,r=this._data.output.image;o&&"CANVAS"===o.nodeName&&w(o),r&&"CANVAS"===r.nodeName&&w(r),this._originalElement=null,this._element=null,this._input=null,this._output=null,this._btnGroup=null,this._options=null}},{key:"dataBase64",get:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],o=arguments[3],r=arguments[4],data={server:lt(t.server),meta:lt(t.meta),input:{name:t.input.name,type:t.input.type,size:t.input.size,width:t.input.width,height:t.input.height,field:t.input.field}};return N("input",e)&&!r&&(data.input.image=ut(t.input.image,t.input.type)),N("output",e)&&(data.output={name:o?Y(t.input.name)+"."+o:t.input.name,type:L[o]||t.input.type,width:t.output.width,height:t.output.height},data.output.image=ut(t.output.image,data.output.type,n),data.output.type=pt(data.output.image),"image/png"===data.output.type&&(data.output.name=Y(data.input.name)+".png")),N("actions",e)&&(data.actions=lt(t.actions)),data}(this._data,this._options.post,this._options.jpegCompression,this._options.forceType,null!==this._options.service)}},{key:"data",get:function(){return t=this._data,(e=lt(t)).input.file=ht(t.input.file),e.output.image=t.output.image,e;var t,e}},{key:"element",get:function(){return this._element}},{key:"service",set:function(t){this._options.service=t}},{key:"size",set:function(t){this.setSize(t,null)}},{key:"rotation",set:function(t){this.setRotation(t,null)}},{key:"forceSize",set:function(t){this.setForceSize(t,null)}},{key:"ratio",set:function(t){this.setRatio(t,null)}}],[{key:"options",value:function(){var t={edit:!0,instantEdit:!1,uploadBase64:!1,meta:{},ratio:"free",devicePixelRatio:1,size:null,rotation:null,crop:null,post:["output","actions"],service:null,serviceFormat:null,filterSharpen:0,push:!1,defaultInputName:"slim[]",minSize:{width:0,height:0},maxFileSize:null,jpegCompression:null,uploadMethod:"POST",download:!1,saveInitialImage:!1,forceType:!1,forceSize:null,forceMinSize:!0,dropReplace:!0,fetcher:null,internalCanvasSize:{width:4096,height:4096},internalCanvasSizeLowMemory:{width:4096,height:4096},copyImageHead:!1,rotateButton:!0,popoverClassName:null,label:"<p>Drop your image here</p>",labelLoading:"<p>Loading image...</p>",statusFileType:"<p>Invalid file type, expects: $0.</p>",statusFileSize:"<p>File is too big, maximum file size: $0 MB.</p>",statusNoSupport:"<p>Your browser does not support image cropping.</p>",statusImageTooSmall:"<p>Image is too small, minimum size is: $0 pixels.</p>",statusContentLength:'<span class="slim-upload-status-icon"></span> The file is probably too big',statusUnknownResponse:'<span class="slim-upload-status-icon"></span> An unknown error occurred',statusUploadSuccess:'<span class="slim-upload-status-icon"></span> Saved',statusLocalUrlProblem:null,didInit:function(data){},didLoad:function(t,image,meta){return!0},didSave:function(data){},didUpload:function(t,data,e){},didReceiveServerError:function(t,e){return e},didRemove:function(data){},didTransform:function(data){},didConfirm:function(data){},didCancel:function(){},didThrowError:function(){},willLoadCanvas:function(image,t){t(image)},willCropInitial:function(t,e){e(null)},willTransform:function(data,t){t(data)},willSave:function(data,t){t(data)},willRemove:function(data,t){t()},willRequest:function(t,data){},willFetch:function(t){},willLoad:function(t){}};return Pt.concat(vt.Buttons).concat("rotate").forEach((function(e){var n=H(e);t["button"+n+"ClassName"]=null,t["button"+n+"Label"]=n,t["button"+n+"Title"]=n})),t}}]),e}();return function(){var t=[];function e(t){var e=window,n=t.split(".");return n.forEach((function(t,o){e[n[o]]&&(e=e[n[o]])})),e!==window?e:null}var n=function(t){return t},o=function(t){return"true"===t},r=function(t){return!t||"true"===t},l=function(t){return function(t){return t?"<p>"+t+"</p>":null}(t)},h=function(t){return t?e(t):null},c=function(t){if(!t)return null;var e=bt(t,",");return{width:e[0],height:e[1]}},d=function(t){return t?parseInt(t,10):null},m={download:o,edit:r,instantEdit:o,minSize:c,size:c,forceSize:c,forceMinSize:r,internalCanvasSize:c,internalCanvasSizeLowMemory:c,service:function(t){if(void 0===t)return null;var n=e(t);return n||t},serviceFormat:function(t){return void 0===t?null:t},fetcher:function(t){return void 0===t?null:t},push:o,rotation:function(t){return void 0===t?null:parseInt(t,10)},crop:function(t){if(!t)return null;var e={};return t.split(",").map((function(p){return parseInt(p,10)})).forEach((function(t,i){e[Ct[i]]=t})),e},post:function(t){return t?t.split(",").map((function(t){return t.trim()})):null},defaultInputName:n,ratio:function(t){return t||null},maxFileSize:function(t){return t?parseFloat(t):null},filterSharpen:d,jpegCompression:d,uploadBase64:o,forceType:n,dropReplace:r,saveInitialImage:o,copyImageHead:o,rotateButton:r,label:l,labelLoading:l,popoverClassName:n,devicePixelRatio:n,uploadMethod:n};["FileSize","FileType","NoSupport","ImageTooSmall"].forEach((function(t){m["status"+t]=l})),["ContentLength","UnknownResponse","UploadSuccess","LocalUrlProblem"].forEach((function(t){m["status"+t]=n})),["Init","Load","Save","Upload","Remove","Transform","ReceiveServerError","Confirm","Cancel","ThrowError"].forEach((function(t){m["did"+t]=h})),["LoadCanvas","CropInitial","Transform","Save","Remove","Request","Load","Fetch"].forEach((function(t){m["will"+t]=h}));var f=["ClassName","Label","Title"];Pt.concat(vt.Buttons).concat("rotate").forEach((function(t){var e=H(t);f.forEach((function(t){m["button"+e+t]=n}))})),Ot.supported=!("[object OperaMini]"===Object.prototype.toString.call(window.operamini)||void 0===window.addEventListener||void 0===window.FileReader||!("slice"in Blob.prototype)||void 0===window.URL||void 0===window.URL.createObjectURL),Ot.parse=function(t){var e,element,i,n=[];for(i=(e=t.querySelectorAll(".slim:not([data-state])")).length;i--;)element=e[i],n.push(Ot.create(element,Ot.getOptionsFromAttributes(element)));return n},Ot.getOptionsFromAttributes=function(element){var t,e=function(t){if(void 0===t.dataset){var e,n={},o=t.attributes;for(e in o)o.hasOwnProperty(e)&&o[e].name&&/^data-[a-z_\-\d]*$/i.test(o[e].name)&&(n[x(o[e].name.substr(5))]=o[e].value);return n}return t.dataset}(element),n={meta:{}};for(var o in e){var r=m[o],l=e[o];r?(l=null===(l=r(l))?lt(Ot.options()[o]):l,n[o]=l):0===o.indexOf("meta")&&(n.meta[(t=o.substr(4),t.charAt(0).toLowerCase()+t.slice(1))]=l)}return n},Ot.find=function(element){var e=t.filter((function(t){return t.isAttachedTo(element)}));return e?e[0]:null},Ot.create=function(element,e){if(!Ot.find(element)){e||(e=Ot.getOptionsFromAttributes(element));var n=new Ot(element,e);return t.push(n),n}},Ot.destroy=function(element){var e=function(element){for(var i=0,e=t.length;i<e;i++)if(t[i].isAttachedTo(element))return i;return-1}(element);return!(e<0)&&(t[e].destroy(),t.splice(e,1),!0)}}(),Ot}():null),l=null,h={props:["options","src"],name:"slim-cropper",mounted:function(){if(this.options.initialImage){var img=document.createElement("img");img.setAttribute("alt",""),img.src=this.options.initialImage,this.$el.appendChild(img)}l=new r(this.$el,this.options)},beforeDestroy:function(){l.destroy()},computed:{backgroundImage:function(){return this.src?"url(".concat(this.src,");background-size: contain; background-repeat: no-repeat;   background-position: center;"):""},style:function(){return"background:".concat(this.backgroundImage)}}},c=(n(802),n(3)),component=Object(c.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"slim",style:t.style},[e("client-only",[t._t("default")],2)],1)}),[],!1,null,null,null);e.a=component.exports},699:function(t,e,n){var content=n(803);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(8).default)("0186c330",content,!0,{sourceMap:!1})},802:function(t,e,n){"use strict";n(699)},803:function(t,e,n){var o=n(7)((function(i){return i[1]}));o.push([t.i,'.slim-file-hopper{bottom:0;left:0;position:absolute;right:0;top:0}.slim-image-editor{height:100%;position:relative;text-align:left;z-index:1}.slim-image-editor .slim-container{direction:ltr;height:calc(100% - 8em);position:relative;width:100%;z-index:2}.slim-image-editor .slim-editor-btn-group,.slim-image-editor .slim-editor-utils-group{flex-shrink:0}.slim-image-editor .slim-stage{line-height:0;position:absolute}.slim-image-editor .slim-wrapper{position:absolute;z-index:2}.slim-image-editor .slim-crop-preview{bottom:0;left:0;line-height:0;position:absolute;right:0;top:0}.slim-image-editor .slim-stage{z-index:4}.slim-image-editor .slim-crop-preview{border-radius:4px;z-index:3}.slim-image-editor .slim-crop-preview canvas,.slim-image-editor .slim-crop-preview img,.slim-image-editor .slim-crop-preview:after{border-radius:inherit;display:block;left:0;position:absolute;top:0}.slim-image-editor .slim-crop-preview .slim-crop{z-index:3}.slim-image-editor .slim-crop-preview:after{bottom:0;content:"";right:0;z-index:2}.slim-image-editor .slim-crop-preview .slim-crop-blur{-moz-filter:contrast(.7);filter:contrast(.7);z-index:1}.slim-image-editor .slim-editor-utils-group{text-align:center}.slim-image-editor .slim-editor-utils-group button{background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:50% 50%;box-shadow:inset 0 -1px 2px rgba(0,0,0,.1),inset 0 1px 0 0 hsla(0,0%,100%,.15);cursor:pointer;font-size:1em;height:2.5em;outline:none;padding:0;width:2.5em}.slim-image-editor .slim-editor-utils-group button:active{background-color:rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.15)}.slim-image-editor .slim-editor-btn-group{text-align:center}.slim-image-editor .slim-editor-btn-group button{background-color:transparent;box-shadow:inset 0 -1px 2px rgba(0,0,0,.1),inset 0 1px 0 0 hsla(0,0%,100%,.15);cursor:pointer;display:inline-block;font-size:1em;margin:0 .75em;outline:none;overflow:hidden;padding:.75em 1.5em .875em;position:relative;transition:color .25s,box-shadow .25s,background-color .25s;vertical-align:top}.slim-image-editor .slim-editor-btn-group button:active{background-color:rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.15);padding:.875em 1.5em .75em}.slim-rotation-disabled .slim-container{height:calc(100% - 4em)}.slim-rotation-disabled .slim-editor-utils-group{display:none}.slim-editor-btn,.slim-editor-utils-btn{border:2px solid rgba(0,0,0,.25);color:hsla(0,0%,100%,.75)}.slim-editor-btn:focus,.slim-editor-btn:hover,.slim-editor-utils-btn:focus,.slim-editor-utils-btn:hover{color:hsla(0,0%,100%,.9)}.slim-editor-utils-btn{border-radius:.6875em}.slim-editor-btn{border-radius:.5em}.slim-image-editor-preview:after{background-color:rgba(244,250,255,.4);box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.07),0 1px 5px rgba(0,0,0,.3)}.slim-btn-rotate{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'252\' height=\'287\' viewBox=\'0 0 252 287\'%3E%3Cpath fill=\'rgba(255,255,255,.8)\' fill-rule=\'evenodd\' d=\'M134.762.626v36.15c65.016 4.594 116.34 58.75 116.34 124.936 0 69.198-56.09 125.288-125.29 125.288C56.616 287 .525 230.91.525 161.71c0-30.036 10.592-57.59 28.215-79.17l31.934 31.934C51.03 127.75 45.27 144.04 45.27 161.71c0 44.485 36.06 80.544 80.544 80.544s80.544-36.058 80.544-80.543c0-41.454-31.327-75.56-71.594-80.017v35.272l-62.646-57.89L134.762.625zm-8.95 196.883c-19.77 0-35.796-16.028-35.796-35.798s16.027-35.796 35.797-35.796 35.797 16.026 35.797 35.796-16.027 35.797-35.797 35.797z\'/%3E%3C/svg%3E")}.slim-editor-btn-group,.slim-editor-utils-group{padding:1em 0 0}@media (min-width:40em){.slim-btn-group{padding-top:2em}}.slim-crop-area{box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.75),0 0 0 1px hsla(0,0%,100%,.75);position:absolute}.slim-crop-area .grid{overflow:hidden}.slim-crop-area .grid:after,.slim-crop-area .grid:before{content:"";opacity:0;position:absolute;transition:opacity .5s;z-index:2}.slim-crop-area .grid:before{bottom:33.333%;box-shadow:inset 0 -1px 0 0 hsla(0,0%,100%,.35),inset 0 1px 0 0 hsla(0,0%,100%,.35);left:1px;right:1px;top:33.333%}.slim-crop-area .grid:after{bottom:1px;box-shadow:inset -1px 0 0 0 hsla(0,0%,100%,.35),inset 1px 0 0 0 hsla(0,0%,100%,.35);left:33.333%;right:33.333%;top:1px}.slim-crop-area button{background:#fafafa;border:none;border-radius:8px;box-shadow:inset 0 1px 0 0 #fff,0 1px 1px rgba(0,0,0,.15);height:16px;margin:-8px 0 0 -8px;padding:0;position:absolute;width:16px;z-index:3}.slim-crop-area [class*=n]{top:0}.slim-crop-area [class*=s]{top:100%}.slim-crop-area [class*=w]{left:0}.slim-crop-area [class*=e]{left:100%}.slim-crop-area .e,.slim-crop-area .w{cursor:ew-resize;height:30px;margin-top:-15px;top:50%}.slim-crop-area .n,.slim-crop-area .s{cursor:ns-resize;left:50%;margin-left:-15px;width:30px}.slim-crop-area .ne,.slim-crop-area .sw{cursor:nesw-resize}.slim-crop-area .nw,.slim-crop-area .se{cursor:nwse-resize}.slim-crop-area .c{border:none;border-radius:0;box-shadow:none;cursor:move;height:calc(100% - 20px);left:10px;margin:0;opacity:0;top:10px;width:calc(100% - 20px);z-index:2}.slim-crop-area button:not(.c):after{bottom:-12px;content:"";left:-12px;position:absolute;right:-12px;top:-12px}.slim-crop-area .slim-crop-mask{bottom:0;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:1}.slim-crop-area .slim-crop-mask img{height:auto;margin:0!important;max-width:none;min-width:0;position:absolute;transform:translateZ(0);transform-origin:0 0;width:auto}.slim-crop-area[data-dragging=true] .grid:after,.slim-crop-area[data-dragging=true] .grid:before{opacity:1}.slim-popover{background:rgba(25,27,29,.99);font-size:16px;height:100%;left:0;overflow:hidden;padding:1em;position:fixed;top:0;touch-action:none;width:100%;z-index:2147483647}.slim-popover[data-state=off]{left:-100%}.slim-popover:after{background:radial-gradient(ellipse at center,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,0) 80%);bottom:0;content:"";left:0;position:absolute;right:0;top:0}@media (min-width:40em){.slim-popover{padding:2em}}.slim,.slim-crop-area,.slim-image-editor,.slim-popover{box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none}.slim button,.slim-crop-area button,.slim-image-editor button,.slim-popover button{-webkit-highlight:none;-webkit-tap-highlight-color:transparent}.slim *,.slim-crop-area *,.slim-image-editor *,.slim-popover *{box-sizing:inherit}.slim img,.slim-crop-area img,.slim-image-editor img,.slim-popover img{background-color:#eee;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+Gkqr6gAAAYBpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/M4gYERaKxUvDamhQExtlJqEmTWOUwWbmzS81P17vzaTJVtlOUWLj14K/gK2yVopISdlZExv0nGfUSObc7rmf+73nnO49F+yhtJoxat2Qyeb14KRXmQ8vKPWP2OjCQRtKRDW08UDAT1V7u5Fosat+q1b1uH+tKRY3VLA1CI+pmp4XnhL2r+Q1izeFO9RUJCZ8LOzS5YLC15YeLfOTxckyf1ish4I+sLcKK8lfHP3FakrPCMvLcWbSBfXnPtZLHPHs3KysPTK7MQgyiReFaSbw4WGQUfEe+hliQHZUyXd/58+Qk1xVvEYRnWWSpMjjErUg1eOyJkSPy0hTtPr/t69GYnioXN3hhboH03zphfoN+CyZ5vu+aX4eQM09nGUr+bk9GHkVvVTRnLvQsgYn5xUtugWn69B5p0X0yLdUI9OeSMDzETSHof0SGhfLPfs55/AWQqvyVRewvQN9Et+y9AUyt2fOEwKMEgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUOI1jZGBgkGIgDjwjRhETkYYRDUYNHDVwMBjISIJaonLU4PfyqIGjBpIBAPvwAUFW9TOIAAAAAElFTkSuQmCC")}.slim img{height:auto;width:100%}span.slim{display:block}.slim{background-color:#eee;font-size:inherit;padding-bottom:.025px;position:relative;transition:background-color .25s}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.slim[data-state*=file-over] .slim-btn{pointer-events:none}.slim[data-state*=empty]:hover{background-color:#ddd}.slim[data-state*=empty] .slim-label{opacity:1;visibility:visible}.slim[data-state*=busy] .slim-label{opacity:0}.slim[data-state*=loading] .slim-label{display:none}.slim[data-state*=loading] .slim-label-loading{display:block;opacity:1}.slim[data-state*=preview] .slim-label{visibility:hidden}.slim[data-state*=error]{background-color:#e8a69f!important;color:#702010}.slim>img,.slim>input[type=file]{border:0!important;display:block!important;height:0!important;margin-left:0!important;margin-right:0!important;margin-top:0!important;opacity:0!important;padding:0!important;width:0!important}.slim>img+input[type=file],.slim>input[type=file]+img{margin-bottom:0!important}.slim>input[type=hidden]{height:1px;margin:-1px;opacity:0;position:absolute;width:1px}.slim .slim-label-loading{display:none}.slim .slim-label{transition:opacity .25s;visibility:hidden}.slim .slim-error,.slim .slim-label,.slim .slim-label-loading{max-width:100%}.slim .slim-file-hopper{background:transparent;z-index:3}.slim .slim-area,.slim .slim-drip,.slim .slim-ratio,.slim .slim-result,.slim .slim-status{border-radius:inherit}.slim .slim-area{color:inherit;overflow:hidden;width:100%}.slim .slim-area :only-of-type{margin:0}.slim .slim-area .slim-loader{height:23px;pointer-events:none;position:absolute;right:.875em;top:.875em;width:23px;z-index:1}.slim .slim-area .slim-loader svg{display:block;height:100%;opacity:0;width:100%}.slim .slim-area .slim-upload-status{font-weight:400;line-height:1.65;opacity:0;position:absolute;right:1em;top:1em;transition:opacity .25s;white-space:nowrap;z-index:1}.slim .slim-area .slim-upload-status-icon{display:inline-block;opacity:.9}.slim .slim-area .slim-drip,.slim .slim-area .slim-result,.slim .slim-area .slim-status{bottom:0;left:0;right:0;top:0}.slim .slim-area .slim-drip,.slim .slim-area .slim-result{position:absolute}.slim .slim-area .slim-status{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:3em 1.5em;pointer-events:none;text-align:center}.slim .slim-area .slim-drip{overflow:hidden;z-index:1}.slim .slim-area .slim-drip>span{left:0;margin-left:-25%;margin-top:-25%;opacity:0;padding-bottom:50%;position:absolute;top:0;width:50%}.slim .slim-area .slim-drip>span>span{background-color:rgba(0,0,0,.25);border-radius:50%;height:100%;left:0;opacity:.5;position:absolute;top:0;width:100%}.slim .slim-area .slim-result{overflow:hidden;-webkit-perspective:1px}.slim .slim-area .slim-result img{display:block;left:0;position:absolute;top:0;width:100%}.slim .slim-area .slim-result img:not([src]),.slim .slim-area .slim-result img[src=""]{visibility:hidden}.slim .slim-btn-group{bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;z-index:3}.slim .slim-btn-group button{cursor:pointer;pointer-events:all}.slim[data-ratio*=":"]{min-height:0}.slim[data-ratio*=":"] .slim-status{padding:0 1.5em;position:absolute}.slim[data-ratio="16:10"]>img,.slim[data-ratio="16:10"]>input[type=file]{margin-bottom:62.5%}.slim[data-ratio="10:16"]>img,.slim[data-ratio="10:16"]>input[type=file]{margin-bottom:160%}.slim[data-ratio="16:9"]>img,.slim[data-ratio="16:9"]>input[type=file]{margin-bottom:56.25%}.slim[data-ratio="9:16"]>img,.slim[data-ratio="9:16"]>input[type=file]{margin-bottom:177.77778%}.slim[data-ratio="5:3"]>img,.slim[data-ratio="5:3"]>input[type=file]{margin-bottom:60%}.slim[data-ratio="3:5"]>img,.slim[data-ratio="3:5"]>input[type=file]{margin-bottom:166.66667%}.slim[data-ratio="5:4"]>img,.slim[data-ratio="5:4"]>input[type=file]{margin-bottom:80%}.slim[data-ratio="4:5"]>img,.slim[data-ratio="4:5"]>input[type=file]{margin-bottom:125%}.slim[data-ratio="4:3"]>img,.slim[data-ratio="4:3"]>input[type=file]{margin-bottom:75%}.slim[data-ratio="3:4"]>img,.slim[data-ratio="3:4"]>input[type=file]{margin-bottom:133.33333%}.slim[data-ratio="3:2"]>img,.slim[data-ratio="3:2"]>input[type=file]{margin-bottom:66.66667%}.slim[data-ratio="2:3"]>img,.slim[data-ratio="2:3"]>input[type=file]{margin-bottom:150%}.slim[data-ratio="1:1"]>img,.slim[data-ratio="1:1"]>input[type=file]{margin-bottom:100%}.slim-btn-group{padding:1.5em 0;text-align:center}.slim-btn{background-color:rgba(0,0,0,.7);background-position:50%;background-repeat:no-repeat;background-size:50% 50%;border:none;border-radius:50%;color:#fff;font-size:0;height:36px;margin:0 7.2px;outline:none;padding:0;position:relative;width:36px}.slim-btn:before{border:3px solid #fff;border-radius:inherit;bottom:-3px;box-sizing:border-box;content:"";left:-3px;opacity:0;pointer-events:none;position:absolute;right:-3px;top:-3px;transform:scale(.95);transition:all .25s;z-index:-1}.slim-btn:focus:before,.slim-btn:hover:before{opacity:1;transform:scale(1)}.slim-btn *{pointer-events:none}.slim-btn-remove{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill-rule=\'evenodd\' stroke-linejoin=\'round\' stroke-miterlimit=\'1.414\' clip-rule=\'evenodd\' viewBox=\'0 0 269 269\'%3E%3Cpath fill=\'%23fff\' d=\'M63.12 250.254s3.998 18.222 24.582 18.222h93.072c20.583 0 24.582-18.222 24.582-18.222l18.374-178.66H44.746zM170.034 98.442a8.95 8.95 0 0 1 17.9 0l-8.95 134.238a8.95 8.95 0 0 1-17.9 0zm-44.746 0a8.949 8.949 0 1 1 17.898 0V232.68a8.95 8.95 0 1 1-17.9 0V98.442zm-35.798-8.95a8.95 8.95 0 0 1 8.95 8.95l8.95 134.237c0 4.942-4.008 8.948-8.95 8.948a8.95 8.95 0 0 1-8.95-8.95L80.54 98.441a8.95 8.95 0 0 1 8.95-8.95zm128.868-53.68h-39.376V17.898c0-13.578-4.39-17.9-17.898-17.9H107.39C95 0 89.492 6 89.492 17.9v17.91H50.116c-7.914 0-14.32 6.007-14.32 13.43 0 7.424 6.406 13.43 14.32 13.43H218.36c7.914 0 14.32-6.006 14.32-13.43s-6.406-13.43-14.32-13.43zm-57.274 0H107.39l.002-17.914h53.695V35.81z\'/%3E%3C/svg%3E")}.slim-btn-download{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill-rule=\'evenodd\' stroke-linejoin=\'round\' stroke-miterlimit=\'1.414\' clip-rule=\'evenodd\' viewBox=\'0 0 269 269\'%3E%3Cpath fill=\'%23fff\' d=\'M232.943 223.73H35.533c-12.21 0-22.11 10.017-22.11 22.373s9.9 22.373 22.11 22.373h197.41c12.21 0 22.11-10.017 22.11-22.373s-9.9-22.373-22.11-22.373M117.88 199.136c4.035 4.04 9.216 6.147 14.492 6.508.626.053 1.227.188 1.866.188.633 0 1.228-.135 1.847-.186 5.284-.357 10.473-2.464 14.512-6.51l70.763-70.967c8.86-8.876 8.86-23.268 0-32.143s-23.225-8.876-32.086 0l-32.662 32.756V22.373C156.612 10.017 146.596 0 134.238 0c-12.356 0-22.372 10.017-22.372 22.373v106.41L79.204 96.027c-8.86-8.876-23.226-8.876-32.086 0s-8.86 23.267 0 32.142l70.763 70.966z\'/%3E%3C/svg%3E")}.slim-btn-upload{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'243\' height=\'269\' viewBox=\'0 0 243 269\'%3E%3Ctitle%3EDownload%3C/title%3E%3Cpath fill=\'%23FFF\' fill-rule=\'evenodd\' d=\'M219.943 223.73H22.533c-12.21 0-22.11 10.017-22.11 22.373s9.9 22.373 22.11 22.373h197.41c12.21 0 22.11-10.017 22.11-22.373s-9.9-22.373-22.11-22.373M104.88 6.696c4.035-4.04 9.216-6.147 14.492-6.508C119.998.135 120.6 0 121.238 0c.633 0 1.228.135 1.847.186 5.284.357 10.473 2.464 14.512 6.51l70.763 70.967c8.86 8.875 8.86 23.267 0 32.142s-23.225 8.876-32.086 0L143.612 77.05v106.41c0 12.355-10.016 22.372-22.374 22.372-12.356 0-22.372-10.017-22.372-22.373V77.05l-32.662 32.755c-8.86 8.876-23.226 8.876-32.086 0s-8.86-23.267 0-32.142z\'/%3E%3C/svg%3E")}.slim-btn-edit{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill-rule=\'evenodd\' stroke-linejoin=\'round\' stroke-miterlimit=\'1.414\' clip-rule=\'evenodd\' viewBox=\'0 0 269 269\'%3E%3Cpath fill=\'%23fff\' d=\'M161.36 56.337c-7.042-7.05-18.46-7.05-25.5 0l-6.373 6.38-89.243 89.338.023.023-2.812 2.82s-8.968 9.032-29.216 74.4c-.143.456-.284.91-.427 1.373q-.541 1.758-1.094 3.568a785 785 0 0 0-.988 3.25c-.28.922-.556 1.835-.84 2.778-.64 2.14-1.29 4.318-1.954 6.567-1.455 4.937-5.01 16.07-.99 20.1 3.87 3.882 15.12.467 20.043-.993a1276 1276 0 0 0 9.41-2.83c1.032-.314 2.058-.626 3.063-.935q1.905-.584 3.75-1.157l1.09-.34c62.193-19.365 73.358-28.453 74.286-29.284l.01-.01.067-.06 2.88-2.886.192.193 89.244-89.336 6.373-6.382c7.04-7.048 7.04-18.476 0-25.525l-50.998-51.05zM103.4 219.782c-.08.053-.185.122-.297.193l-.21.133q-.114.071-.245.15l-.243.148c-2.97 1.777-11.682 6.362-32.828 14.017-2.47.894-5.162 1.842-7.98 2.82l-30.06-30.092c.98-2.84 1.928-5.55 2.825-8.04 7.638-21.235 12.22-29.974 13.986-32.94l.12-.2q.093-.151.175-.283l.126-.2c.07-.11.14-.217.192-.296l2.2-2.205 54.485 54.542-2.248 2.255zM263.35 56.337l-50.996-51.05c-7.04-7.048-18.456-7.048-25.498 0L174.108 18.05c-7.04 7.048-7.04 18.476 0 25.524l50.996 51.05c7.04 7.048 18.457 7.048 25.498 0l12.75-12.762c7.04-7.05 7.04-18.477 0-25.525z\'/%3E%3C/svg%3E")}.slim-loader-background{stroke:rgba(0,0,0,.15)}.slim-loader-foreground{stroke:rgba(0,0,0,.65)}.slim[data-state*=preview] .slim-loader-background{stroke:hsla(0,0%,100%,.25)}.slim[data-state*=preview] .slim-loader-foreground{stroke:#fff}.slim-upload-status{border-radius:.3125em;box-shadow:0 .125em .25em rgba(0,0,0,.25);font-size:.75em;padding:0 .5em}.slim-upload-status[data-state=success]{background-color:#d1ed8f;color:#323e15}.slim-upload-status[data-state=success] .slim-upload-status-icon{border:.1875em solid;border-left:none;border-top:none;height:.75em;margin-bottom:.0625em;margin-left:.25em;margin-right:.325em;transform:rotate(45deg);width:.5em}.slim-upload-status[data-state=error]{background:#efd472;color:#574016}.slim-upload-status[data-state=error] .slim-upload-status-icon{height:1em;margin-left:-.125em;margin-right:.5em;position:relative;transform:rotate(45deg);width:.5625em}.slim-upload-status[data-state=error] .slim-upload-status-icon:after,.slim-upload-status[data-state=error] .slim-upload-status-icon:before{background-color:currentColor;border:.09em solid;box-sizing:content-box;content:"";height:0;position:absolute;transform:translate(-50%,-50%) translate(.5em,.5em);width:0}.slim-upload-status[data-state=error] .slim-upload-status-icon:before{width:.66666666667em}.slim-upload-status[data-state=error] .slim-upload-status-icon:after{height:.66666666667em}.slim[data-ratio="1:1"]>img,.slim[data-ratio="1:1"]>input[type=file]{margin-bottom:0!important}.slim-status{color:#fff;font-size:30px!important;-webkit-text-stroke-width:.5px;-webkit-text-stroke-color:#000}',""]),o.locals={},t.exports=o}}]);