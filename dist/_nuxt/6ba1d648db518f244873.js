(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{397:function(t,e,n){"use strict";n.r(e);n(15),n(20),n(9),n(29),n(30);var r=n(1),o=n(5),c=(n(27),n(22),n(6),n(32));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var h={data:function(){return{}},components:{Pagination:n(597).a},head:function(){return{title:this.settings.site_title}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.c)({settings:"settings",reports:"admin/reports",pageinateData:"admin/pageinateData"})),methods:{deleteReport:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$delete("admin/reports/".concat(t));case 3:e.$store.commit("admin/REMOVE_FROM_REPORTS",t),e.$toast.open({type:"success",position:"top-right",message:"Report Delete Successfully"}),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},watchQuery:!0,fetch:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,q,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,n=t.query,r=t.error,o=t.$axios,c=t.store,l=t.redirect,e.next=3,Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&");case 3:return q=e.sent,e.prev=4,e.next=7,o.$get("admin/reports?".concat(q));case 7:h=e.sent,c.commit("admin/SET_REPORTS",h.data),c.commit("admin/SET_PAGINATE_DATA",h.meta),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),404===e.t0.response.status?r({statusCode:404,message:"user Not Found"}):403===e.t0.response.status?l("/"):429===e.t0.response.status?r({statusCode:429,message:"Too Many Attempt"}):401===e.t0.response.status?l("/login"):r({statusCode:500,message:"Server Error"});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()}},_=h,m=n(3),component=Object(m.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered table-striped table-sm"},[t._m(0),t._v(" "),e("tbody",t._l(t.reports,(function(n){return e("tr",{key:n.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(n.id))]),t._v(" "),e("td",[t._v(t._s(n.reason))]),t._v(" "),e("td",[t._v(t._s(n.report_type))]),t._v(" "),e("td",[t._v(t._s(n.contact))]),t._v(" "),e("td",[e("nuxt-link",{attrs:{to:{name:"profile.show",params:{username:n.report_user.username}},target:"_blank"}},[t._v("\n              "+t._s(n.report_user.name)+"\n            ")])],1),t._v(" "),e("td",["Thread"==n.reported_type?[e("nuxt-link",{attrs:{to:{name:"threads.show",params:{slug:n.reported_item.slug}},target:"_blank"}},[t._v("\n                "+t._s(n.reported_item.title)+"\n              ")])]:t._e()],2),t._v(" "),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.deleteReport(n.id)}}},[t._v("\n              Delete\n            ")])])])})),0)]),t._v(" "),e("Pagination",{attrs:{pagination:t.pageinateData,routeName:"admin.show.reports",param:{key:"",value:""}}})],1)])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Reason")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Contact")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Report User")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Report Item")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Action")])])])}],!1,null,"3cf5b352",null);e.default=component.exports},597:function(t,e,n){"use strict";n(22),n(20),n(9),n(29),n(30);var r=n(5),o=n(32);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={props:{pagination:{type:Object,required:!0},routeName:{type:String,required:!0},param:{type:Object,required:!0}},data:function(){return{limit:4}},computed:l(l({},Object(o.c)({q:"pagination/q"})),{},{pages:function(){for(var t=[],i=1;i<=this.pagination.last_page;i++)t.push(i);return t},links:function(){var t=[1,"..."],e=["...",this.pagination.last_page],n=[];return this.pagination.current_page<=this.limit?(n=this.range(1,this.limit+1),this.pagination.current_page+n.length<=this.pagination.last_page?n.concat(e):n):this.pagination.current_page>this.pagination.last_page-this.limit?(n=this.range(this.pagination.last_page-this.limit,this.pagination.last_page),this.pagination.current_page-n.length>=1?t.concat(n):n):(n=this.range(this.pagination.current_page-Math.ceil(this.limit/2),this.pagination.current_page+Math.ceil(this.limit/2)),t.concat(n).concat(e))},next:function(){var t=this.pagination.current_page+1;return t<=this.pagination.last_page&&t},prev:function(){return this.pagination.current_page-1},show:function(){return this.pagination.last_page>1}}),methods:{getRelation:function(link){return this.pagination.current_page-1==link?"next":this.pagination.current_page+1==link?"prev":this.pagination.current_page==link&&"canonical"},range:function(t,e){for(var n=[],i=t-1;i<e;i++)this.pages[i]&&n.push(this.pages[i]);return n},go:function(t){isNaN(t)},goToFirstPage:function(){var t={};t[this.param.key]=this.param.value,console.log(t),this.$router.push({name:this.routeName,params:t,query:l({},this.q)})},goToPage:function(link){var t={};t[this.param.key]=this.param.value,this.$router.push({name:this.routeName,params:t,query:l({page:link},this.q)}),document.body.scrollTop=0,document.documentElement.scrollTop=0}}},_=n(3),component=Object(_.a)(h,(function(){var t=this,e=t._self._c;return e("nav",[t.show?e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.prev}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goToPage(1)}}},[t._m(0)])]),t._v(" "),t._l(t.links,(function(link,n){return e("li",{key:n,staticClass:"page-item",class:{active:t.pagination.current_page==link,disabled:isNaN(link)}},[e("a",1==link?{staticClass:"page-link",attrs:{rel:t.getRelation(link),href:"#"},on:{click:function(e){return e.preventDefault(),t.goToPage(1)}}}:{staticClass:"page-link",attrs:{rel:t.getRelation(link),href:"?page=".concat(link)},on:{click:function(e){return e.preventDefault(),t.goToPage(link)}}},[e("span",[e("span",[t._v(t._s(link))])])])])})),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!t.next}},[e("a",{staticClass:"page-link",attrs:{href:"?page=".concat(t.pagination.last_page)},on:{click:function(e){return e.preventDefault(),t.goToPage(t.pagination.last_page)}}},[t._m(1)])])],2):t._e(),t._v(" "),t.pagination.total<1||null==t.pagination.from?e("div",{staticClass:"alert alert-danger card-m-5"},[t._v("\n    No Results Found\n  ")]):t._e()])}),[function(){var t=this._self._c;return t("span",[t("span",[this._v("«")])])},function(){var t=this._self._c;return t("span",[t("span",[this._v("»")])])}],!1,null,null,null);e.a=component.exports}}]);