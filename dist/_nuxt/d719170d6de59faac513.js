(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{410:function(e,t,r){"use strict";r.r(t);var n=r(1),o=(r(6),r(2)),c={__name:"Listbooks",setup:function(e){var t=Object(o.b)(""),r=Object(o.b)(null),c=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var n,o,c,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.value=null,e.prev=1,e.next=4,fetch("https://anecdotage.com/api/books/covers",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({watermark:t.value})});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to generate image");case 7:return e.next=9,n.blob();case 9:o=e.sent,c=window.URL.createObjectURL(o),(a=document.createElement("a")).href=c,a.download="watermarked.jpg",document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(c),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),r.value=e.t0.message||"Something went wrong.",console.error("Download failed:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,watermark:t,error:r,submitForm:c}}},l=c,m=r(3),component=Object(m.a)(l,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"container py-5"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"card shadow-sm"},[t("div",{staticClass:"card-body"},[t("h3",{staticClass:"card-title text-center mb-4"},[e._v("ðŸ“š Watermark Generator")]),e._v(" "),t("form",{on:{submit:function(e){return e.preventDefault(),r.submitForm.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"watermark"}},[e._v("Watermark Text")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.watermark,expression:"watermark"}],staticClass:"form-control",attrs:{type:"text",id:"watermark",placeholder:"Enter something like DOGS"},domProps:{value:r.watermark},on:{input:function(e){e.target.composing||(r.watermark=e.target.value)}}})]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-block mt-3",attrs:{type:"submit"}},[e._v("\n              ðŸ’¾ Generate & Download\n            ")]),e._v(" "),r.error?t("div",{staticClass:"alert alert-danger mt-3"},[e._v("\n              "+e._s(r.error)+"\n            ")]):e._e()])])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);