(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{412:function(t,e,o){"use strict";o.r(e);var r=o(1),n=(o(6),o(2)),c={__name:"covers",setup:function(t){var e=Object(n.b)(""),o=Object(n.b)(24),c=Object(n.b)("#000000"),l=Object(n.b)(null),d=Object(n.b)(null),f=Object(n.b)(!1),m=null,v=null,x=function(){clearTimeout(m),l.value=null},w=function(){clearTimeout(v),d.value=null},h=function(){clearTimeout(m),clearTimeout(v),l.value&&(m=setTimeout(x,5e3)),d.value&&(v=setTimeout(w,5e3))};Object(n.c)([l,d],h);var k=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var r,n,m,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(),w(),f.value=!0,t.prev=3,t.next=6,fetch("http://127.0.0.1:8000/api/books/covers",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({watermark:e.value.trim(),fontSize:o.value,fontColor:c.value})});case 6:if(r=t.sent,console.log("Response:",r),r.ok){t.next=10;break}throw new Error(r.statusText||"Failed to generate image");case 10:return t.next=12,r.blob();case 12:n=t.sent,m=window.URL.createObjectURL(n),(a=document.createElement("a")).href=m,a.download="watermarked_".concat(e.value,".jpg"),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(m),d.value="Watermark generated successfully!",t.next=28;break;case 24:t.prev=24,t.t0=t.catch(3),l.value=t.t0.message||"Something went wrong. Please try again.",console.error("Download failed:",t.t0);case 28:return t.prev=28,f.value=!1,t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[3,24,28,31]])})));return function(){return t.apply(this,arguments)}}();return{__sfc:!0,watermark:e,fontSize:o,fontColor:c,error:l,success:d,isLoading:f,errorTimeout:m,successTimeout:v,dismissError:x,dismissSuccess:w,autoHideAlerts:h,submitForm:k}}},l=c,d=(o(765),o(3)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c,o=t._self._setupProxy;return e("div",{staticClass:"container py-5"},[e("div",{staticClass:"form-wrapper"},[e("h3",{staticClass:"text-center mb-4"},[t._v("ðŸ“š Watermark Generator")]),t._v(" "),e("form",{staticClass:"form-group",on:{submit:function(t){return t.preventDefault(),o.submitForm.apply(null,arguments)}}},[e("label",{staticClass:"form-label",attrs:{for:"watermark"}},[t._v("Watermark Text")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.watermark,expression:"watermark"}],staticClass:"form-input",attrs:{type:"text",id:"watermark",placeholder:"Enter something like DOGS",disabled:o.isLoading},domProps:{value:o.watermark},on:{input:function(t){t.target.composing||(o.watermark=t.target.value)}}}),t._v(" "),e("div",{staticClass:"input-row"},[e("div",{staticClass:"input-group"},[e("label",{staticClass:"form-label",attrs:{for:"fontSize"}},[t._v("Font Size")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:o.fontSize,expression:"fontSize",modifiers:{number:!0}}],staticClass:"form-input",attrs:{type:"number",id:"fontSize",placeholder:"e.g., 24",min:"8",max:"120",disabled:o.isLoading},domProps:{value:o.fontSize},on:{input:function(e){e.target.composing||(o.fontSize=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"input-group"},[e("label",{staticClass:"form-label",attrs:{for:"fontColor"}},[t._v("Font Color")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.fontColor,expression:"fontColor"}],staticClass:"form-input color-input",attrs:{type:"color",id:"fontColor",disabled:o.isLoading},domProps:{value:o.fontColor},on:{input:function(t){t.target.composing||(o.fontColor=t.target.value)}}})])]),t._v(" "),e("button",{staticClass:"submit-btn",attrs:{type:"submit",disabled:o.isLoading}},[o.isLoading?e("span",{staticClass:"loader-wrapper"},[e("span",{staticClass:"loader"})]):e("span",[t._v("ðŸ’¾ Generate & Download")])])]),t._v(" "),o.error?e("div",{staticClass:"alert-message error"},[t._v("\n            "+t._s(o.error)+"\n            "),e("button",{staticClass:"dismiss-btn",on:{click:o.dismissError}},[t._v("Ã—")])]):t._e(),t._v(" "),o.success?e("div",{staticClass:"alert-message success"},[t._v("\n            "+t._s(o.success)+"\n            "),e("button",{staticClass:"dismiss-btn",on:{click:o.dismissSuccess}},[t._v("Ã—")])]):t._e()])])}),[],!1,null,"b80fcaf6",null);e.default=component.exports},681:function(t,e,o){var content=o(766);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(8).default)("b44e2de0",content,!0,{sourceMap:!1})},765:function(t,e,o){"use strict";o(681)},766:function(t,e,o){var r=o(7)((function(i){return i[1]}));r.push([t.i,'.py-5[data-v-b80fcaf6]{padding-bottom:7.5rem!important;padding-top:7.5rem!important}.form-wrapper[data-v-b80fcaf6]{background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1);margin:0 auto;max-width:500px;padding:30px;position:relative}h3[data-v-b80fcaf6]{color:#333;font-family:"Arial",sans-serif}.form-group[data-v-b80fcaf6]{margin-bottom:20px}.form-label[data-v-b80fcaf6]{color:#555;display:block;font-size:1.1em;margin-bottom:8px}.form-input[data-v-b80fcaf6]{border:1px solid #ccc;border-radius:4px;color:#333;font-size:1em;margin-bottom:20px;padding:12px;transition:border-color .3s;width:100%}.color-input[data-v-b80fcaf6]{height:45px;padding:5px}.input-row[data-v-b80fcaf6]{display:flex;gap:15px}.input-group[data-v-b80fcaf6]{flex:1}.form-input[data-v-b80fcaf6]:focus{border-color:#007bff;outline:none}.form-input[data-v-b80fcaf6]:disabled{background-color:#f0f0f0;cursor:not-allowed}.submit-btn[data-v-b80fcaf6]{background-color:#007bff;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:1.1em;min-height:44px;padding:12px 20px;position:relative;transition:background-color .3s;width:100%}.submit-btn[data-v-b80fcaf6]:hover:not(:disabled){background-color:#0056b3}.submit-btn[data-v-b80fcaf6]:disabled{background-color:#b3d7ff;cursor:not-allowed}.loader-wrapper[data-v-b80fcaf6]{align-items:center;display:flex;gap:8px;justify-content:center}.loader[data-v-b80fcaf6]{animation:spin-b80fcaf6 1s linear infinite;border:3px solid hsla(0,0%,100%,.3);border-radius:50%;border-top-color:#fff;height:20px;width:20px}@keyframes spin-b80fcaf6{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.alert-message[data-v-b80fcaf6]{animation:fadeIn-b80fcaf6 .3s ease-in-out;border-radius:4px;font-size:1em;margin-top:20px;padding:12px 40px 12px 20px;position:relative;text-align:center}.error[data-v-b80fcaf6]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.success[data-v-b80fcaf6]{background-color:#d4edda;border:1px solid #c3e6cb;color:#155724}.dismiss-btn[data-v-b80fcaf6]{background:transparent;border:none;color:inherit;cursor:pointer;font-size:1.5em;line-height:1;opacity:.7;padding:0 8px;position:absolute;right:12px;top:50%;transform:translateY(-50%);transition:opacity .2s}.dismiss-btn[data-v-b80fcaf6]:hover{opacity:1}@keyframes fadeIn-b80fcaf6{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}',""]),r.locals={},t.exports=r}}]);