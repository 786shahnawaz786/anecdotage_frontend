(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{388:function(t,e,r){"use strict";r.r(e);r(15),r(20),r(9),r(29),r(30);var o=r(1),n=r(5),l=(r(22),r(6),r(32)),c=r(11),f=r(10),d=(r(373),{props:{form:{type:Object,required:!0},field:{type:String,required:!0},value:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},rows:{type:Number,default:3},readonly:{type:Boolean,default:!1}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}},mounted:function(){}}),m=r(3),v=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("textarea",{staticClass:"form-control form-control-lg font-14 fw-300",class:{"is-invalid":t.form.errors.has(t.field)},attrs:{rows:t.rows,readonly:t.readonly,id:t.id,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:t.field}})],1)}),[],!1,null,null,null).exports;function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={mixins:[r(596).a],components:{BaseButton:f.a,BaseInput:c.a,BaseTextarea:v},data:function(){return{form:this.$vform({name:"",date_of_birth:"",formatted_address:"",about:""}),delete_form:this.$vform({})}},head:function(){return{title:this.settings.site_title}},computed:_(_({},Object(l.c)({settings:"settings"})),{},{user:function(){return this.$auth.user}}),methods:{updateInfo:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.form.put("settings/profile",t.form);case 3:return e.sent,e.next=6,t.$auth.fetchUser();case 6:t.$toast.open({type:"success",position:"top-right",message:"Profile Update Successfully"}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteInfo:function(){var t=this;this.$swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&t.delete()}))},delete:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.form.post("user/".concat(t.$auth.user.username,"/delete-info"));case 3:e.sent,t.$toast.open({type:"success",position:"top-right",message:"Your account delete successfully."}),setTimeout((function(){t.$router.push({name:"index"})}),2e3),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},mounted:function(){var t=this;Object.keys(this.form).forEach((function(e){t.user.hasOwnProperty(e)&&(t.form[e]=t.user[e])}))}},w=Object(m.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.updateInfo.apply(null,arguments)}}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[t._v("Full name")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("BaseInput",{attrs:{form:t.form,field:"name",inputType:"text",id:"name",placeholder:"Enter Full Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"date_of_birth"}},[t._v("Date of Birth")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("BaseInput",{attrs:{form:t.form,field:"date_of_birth",inputType:"date",id:"date_of_birth",placeholder:"Date of Birth"},model:{value:t.form.date_of_birth,callback:function(e){t.$set(t.form,"date_of_birth",e)},expression:"form.date_of_birth"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"formatted_address"}},[t._v("Address")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("BaseInput",{attrs:{form:t.form,field:"formatted_address",inputType:"text",id:"formatted_address",placeholder:"Enter your address"},model:{value:t.form.formatted_address,callback:function(e){t.$set(t.form,"formatted_address",e)},expression:"form.formatted_address"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[t._v("About")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("base-textarea",{attrs:{form:t.form,field:"about",id:"about"},model:{value:t.form.about,callback:function(e){t.$set(t.form,"about",e)},expression:"form.about"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-sm-8 offset-sm-4"},[e("BaseButton",{attrs:{loading:t.form.busy}},[t._v(" Update ")])],1)])])]),t._v(" "),t.user.is_admin?t._e():e("div",{staticClass:"col-md-12"},[e("hr"),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"name"}},[t._v("Delete My Account")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.deleteInfo.apply(null,arguments)}}},[e("p",[t._v('This will delete your account and everything in it with the exception of any anecdotes you have posted. Your anecdotes can be deleted from their individual pages. Otherwise, they will be attributed to "Anonymous." ')]),t._v(" "),e("br"),t._v(" "),e("BaseButton",{attrs:{loading:t.delete_form.busy,type:"danger"}},[t._v("Delete My Account")])],1)])])])])}),[],!1,null,"72bd41ba",null);e.default=w.exports},596:function(t,e,r){"use strict";var o=r(2),n=r(615),l=r.n(n);e.a={created:function(){o.a.use(l.a)}}}}]);